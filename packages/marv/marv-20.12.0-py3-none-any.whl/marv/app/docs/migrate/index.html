
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Migration &#8212; MARV Robotics 20.12.0 documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx_paramlinks.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon-32x32.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Changelog" href="../CHANGES.html" />
    <link rel="prev" title="Maintenance" href="../maintenance.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="migration">
<span id="migrate"></span><h1>Migration<a class="headerlink" href="#migration" title="Permalink to this headline">¶</a></h1>
<p>Listed here are all versions that necessitate migration. Depending on the version you are migrating from you might need to follow multiple migration steps.</p>
<p>In case of database migrations it is sufficient to <code class="docutils literal notranslate"><span class="pre">marv</span> <span class="pre">dump</span></code> the database with the version you are currently using and <code class="docutils literal notranslate"><span class="pre">marv</span> <span class="pre">restore</span></code> with the latest version; marv is able to <em>dump</em> itself and <em>restore</em> any older version. In case this does not hold true <code class="docutils literal notranslate"><span class="pre">marv</span> <span class="pre">restore</span></code> will complain and provide instructions what to do.</p>
<div class="section" id="migrate-20-12-0">
<span id="id1"></span><h2>20.12.0<a class="headerlink" href="#migrate-20-12-0" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="database-migration">
<h2>Database migration<a class="headerlink" href="#database-migration" title="Permalink to this headline">¶</a></h2>
<p>Extended RPC filters, among others, required changes to database schemas, a migration of the MARV database is necessary. Export the database with your current version of MARV:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">marv dump dump-2008.json</span>
<span class="go">mv db/db.sqlite db/db.sqlite.2008</span>
</pre></div>
</div>
<p>After updating MARV run:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">marv init</span>
<span class="go">marv restore dump-2008.json</span>
</pre></div>
</div>
</div>
<div class="section" id="code-migration-ce">
<h2>Code migration (CE)<a class="headerlink" href="#code-migration-ce" title="Permalink to this headline">¶</a></h2>
<p>Node <a class="reference internal" href="../nodes.html#marv_robotics.trajectory.navsatfix" title="marv_robotics.trajectory.navsatfix"><code class="xref py py-func docutils literal notranslate"><span class="pre">marv_robotics.trajectory.navsatfix()</span></code></a> now returns timestamps as integer in nanoseconds instead of as float in seconds. Directly consuming custom nodes need migration, all nodes shipping with marv are already adjusted accordingly.</p>
</div>
<div class="section" id="config-migration-ee">
<h2>Config migration (EE)<a class="headerlink" href="#config-migration-ee" title="Permalink to this headline">¶</a></h2>
<p>To implement partial downloads, the Enterprise Edition now uses a dedicated connections section. Please adjust your config accordingly and rerun the corresponding node:</p>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="gd">-    marv_robotics.detail:connections_section</span>
<span class="gi">+    marv_ee_nodes.detail:connections_section</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">marv run --force --node connections_section --col=\*</span>
</pre></div>
</div>
<div class="section" id="migrate-20-08-0">
<span id="id2"></span><h3>20.08.0<a class="headerlink" href="#migrate-20-08-0" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="session-key-file">
<h2>Session key file<a class="headerlink" href="#session-key-file" title="Permalink to this headline">¶</a></h2>
<p>A marv site contains a session key file used in authenticating marv users. This file was previously readable by all users of the host system. We recommend to delete the file and restart marv to recreate it automatically. All marv users will have to relogin.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>rm site/sessionkey
</pre></div>
</div>
</div>
<div class="section" id="table-column-sorting">
<h2>Table column sorting<a class="headerlink" href="#table-column-sorting" title="Permalink to this headline">¶</a></h2>
<p>Table columns containing links use dictionaries instead of plain values and the sort order of these will seem random. Use <code class="docutils literal notranslate"><span class="pre">sortkey</span></code> on table columns to define the dictionary key for sorting (see <a class="reference internal" href="../widgets.html#widget-table"><span class="std std-ref">Table</span></a> for more information).</p>
<p>In case you are using <a class="reference internal" href="../nodes.html#marv_robotics.detail.bagmeta_table" title="marv_robotics.detail.bagmeta_table"><code class="xref py py-func docutils literal notranslate"><span class="pre">marv_robotics.detail.bagmeta_table()</span></code></a> and have datasets with multiple files, you might want to run:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>marv run --node bagmeta_table --force --col<span class="o">=</span>*
</pre></div>
</div>
<p>Likewise for <code class="xref py py-func docutils literal notranslate"><span class="pre">marv_nodes.meta_table()</span></code>.</p>
<div class="section" id="migrate-20-06-0">
<span id="id3"></span><h3>20.06.0<a class="headerlink" href="#migrate-20-06-0" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="changes-to-access-control">
<h2>Changes to access control<a class="headerlink" href="#changes-to-access-control" title="Permalink to this headline">¶</a></h2>
<p>MARV supports access control profiles (see <a class="reference internal" href="../config.html#cfg-marv-acl"><span class="std std-ref">acl</span></a>) that dictate who is permitted to perform what. Profiles map actions like <code class="docutils literal notranslate"><span class="pre">comment</span></code> or <code class="docutils literal notranslate"><span class="pre">tag</span></code> to lists of user groups that are permitted to perform these actions. This version of MARV cleans up and streamlines the list of supported verbs.</p>
<p>If you created a custom profile, please refer to <a class="reference internal" href="../api/marv.html#module-marv_webapi.acls" title="marv_webapi.acls"><code class="xref py py-mod docutils literal notranslate"><span class="pre">marv_webapi.acls</span></code></a> as an example and make sure to adjust your custom profile to use the new action verbs.</p>
<p>No migration is necessary for installations that use one of the two default profiles (<code class="docutils literal notranslate"><span class="pre">authenticated</span></code> or <code class="docutils literal notranslate"><span class="pre">public</span></code>).</p>
</div>
<div class="section" id="id4">
<h2>Database migration<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>Changes to collection management required changes to database schemas. A migration of the MARV database is necessary. Export the database with your current version of MARV:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">marv dump dump-2004.json</span>
<span class="go">mv db/db.sqlite db/db.sqlite.2004</span>
</pre></div>
</div>
<p>After updating MARV run:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">marv init</span>
<span class="go">marv restore dump-2004.json</span>
</pre></div>
</div>
<div class="section" id="migrate-20-04-0">
<span id="id5"></span><h3>20.04.0<a class="headerlink" href="#migrate-20-04-0" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id6">
<h2>Database migration<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<p>An updated version of tortoise-orm required changes to the database schemas. A migration of the MARV database is necessary. Export the database with your current version of MARV:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">marv dump dump-1911.json</span>
<span class="go">mv db/db.sqlite db/db.sqlite.1911</span>
</pre></div>
</div>
<p>After updating MARV run:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">marv init</span>
<span class="go">marv restore dump-1911.json</span>
</pre></div>
</div>
<div class="section" id="migrate-19-11-0">
<span id="id7"></span><h3>19.11.0<a class="headerlink" href="#migrate-19-11-0" title="Permalink to this headline">¶</a></h3>
<p>The gunicorn configuration was simplified. Instead of providing <code class="docutils literal notranslate"><span class="pre">gunicorn_cfg.py</span></code> and running gunicorn manually, the <code class="docutils literal notranslate"><span class="pre">marv</span> <span class="pre">serve</span></code> cli was added. Check it out with <code class="docutils literal notranslate"><span class="pre">marv</span> <span class="pre">serve</span> <span class="pre">--help</span></code>.</p>
<p>If you were overriding the dburi path in your marv.conf, there is no need for the odd sqlalchemy URIs with four slashes anymore. If your custom dburi starts with <code class="docutils literal notranslate"><span class="pre">sqlite:////</span></code> please remove one slash.</p>
<p>This version makes the switch from sqlalchemy to tortoise as the underlying ORM, which makes a migration of the MARV database necessary. Export the database with your current version of MARV:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">marv dump dump-1909.json</span>
<span class="go">mv db/db.sqlite db/db.sqlite.1909</span>
</pre></div>
</div>
<p>After updating MARV run:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">marv init</span>
<span class="go">marv restore dump-1909.json</span>
</pre></div>
</div>
</div>
<div class="section" id="migrate-19-09-0">
<span id="id8"></span><h3>19.09.0<a class="headerlink" href="#migrate-19-09-0" title="Permalink to this headline">¶</a></h3>
<p>Uwsgi was replaced in favour of Gunicorn. In your site directory, replace <code class="docutils literal notranslate"><span class="pre">uwsgi.conf</span></code> with a <code class="docutils literal notranslate"><span class="pre">gunicorn_cfg.py</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;Gunicorn configuration for MARV.&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">multiprocessing</span>
<span class="kn">import</span> <span class="nn">pathlib</span>

<span class="c1"># pylint: disable=invalid-name</span>

<span class="n">bind</span> <span class="o">=</span> <span class="s1">&#39;:8000&#39;</span>
<span class="n">proc_name</span> <span class="o">=</span> <span class="s1">&#39;marvweb&#39;</span>
<span class="n">raw_env</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sa">f</span><span class="s1">&#39;MARV_CONFIG=</span><span class="si">{</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span> <span class="o">/</span> <span class="s2">&quot;marv.conf&quot;</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">workers</span> <span class="o">=</span> <span class="n">multiprocessing</span><span class="o">.</span><span class="n">cpu_count</span><span class="p">()</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">worker_class</span> <span class="o">=</span> <span class="s1">&#39;aiohttp.GunicornUVLoopWebWorker&#39;</span>
</pre></div>
</div>
<p>If you made any changes to your old <code class="docutils literal notranslate"><span class="pre">uwsgi.conf</span></code> please adjust the above config accordingly. If you are using an nginx reverse proxy you also have to adjust its configuration. Replace any <code class="docutils literal notranslate"><span class="pre">uwsgi_pass</span></code> directives with a <code class="docutils literal notranslate"><span class="pre">proxy_pass</span></code>:</p>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="gd">-       uwsgi_pass 127.0.0.1:8000;</span>
<span class="gd">-       include uwsgi_params;</span>
<span class="gi">+       proxy_set_header Host $host;</span>
<span class="gi">+       proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span>
<span class="gi">+       proxy_pass 127.0.0.1:8000;</span>
</pre></div>
</div>
</div>
<div class="section" id="migrate-19-02-0">
<span id="id9"></span><h3>19.02.0<a class="headerlink" href="#migrate-19-02-0" title="Permalink to this headline">¶</a></h3>
<p>Support for ipdb has been dropped in favour of <a class="reference external" href="https://github.com/antocuni/pdb">pdb++</a>. Use <code class="docutils literal notranslate"><span class="pre">PDB=1</span> <span class="pre">marv</span> <span class="pre">run</span></code> instead of <code class="docutils literal notranslate"><span class="pre">marv-ipdb</span> <span class="pre">run</span></code>. For more information see <a class="reference internal" href="../debug.html#debug"><span class="std std-ref">Debugging</span></a>.</p>
</div>
<div class="section" id="migrate-18-07">
<span id="id10"></span><h3>18.07<a class="headerlink" href="#migrate-18-07" title="Permalink to this headline">¶</a></h3>
<p>The way inputs are handled has changed. Inputs selecting an individual topic are now optional. See <a class="reference internal" href="../patterns.html#optional-inputs"><span class="std std-ref">Optional inputs</span></a> for more information.</p>
</div>
<div class="section" id="migrate-18-04">
<span id="id11"></span><h3>18.04<a class="headerlink" href="#migrate-18-04" title="Permalink to this headline">¶</a></h3>
<p>The list of system dependencies is updated and the installation has significantly changed. We recommend that you re-read the <a class="reference internal" href="../install/index.html#install"><span class="std std-ref">Installation</span></a> instructions. The database has not changed and existing sites continue to function without migration.</p>
<p>MARV now supports offloading the delivery of files to nginx. In case you are not using nginx as reverse-proxy, yet, you should seriously consider to change that now. See <a class="reference internal" href="../config.html#cfg-marv-reverse-proxy"><span class="std std-ref">reverse_proxy</span></a> and <a class="reference internal" href="../deploy.html#deploy-nginx"><span class="std std-ref">Gunicorn behind NGINX</span></a>.</p>
<p>MARV now supports access control lists (ACLs). The default ACL requires authentication to read anything, tag and comment; and only members of the group admin may discard datasets. For users of the Enterprise Edition this corresponds to the same behaviour as before. The <a class="reference internal" href="../api/marv.html#marv_webapi.acls.public" title="marv_webapi.acls.public"><code class="xref py py-func docutils literal notranslate"><span class="pre">marv_webapi.acls.public()</span></code></a> closely resembles the previous Community Edition default, apart from requiring admin group membership to discard datasets. See <a class="reference internal" href="../config.html#cfg-marv-acl"><span class="std std-ref">acl</span></a> to change the effective ACL.</p>
</div>
<div class="section" id="migrate-18-03">
<span id="id12"></span><h3>18.03<a class="headerlink" href="#migrate-18-03" title="Permalink to this headline">¶</a></h3>
<p>With this release:</p>
<ul class="simple">
<li><p>geojson property object has changed.</p></li>
</ul>
<p>To update the store to the new format rerun the trajectory nodes using:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">marv run --node trajectory --force --force-dependent --collection=*</span>
</pre></div>
</div>
</div>
<div class="section" id="migrate-18-02">
<span id="id13"></span><h3>18.02<a class="headerlink" href="#migrate-18-02" title="Permalink to this headline">¶</a></h3>
<p>With this release:</p>
<ul class="simple">
<li><p>message definitions are read from bag files instead of being expected on the system</p></li>
<li><p>marv allows mixing message types per topic.</p></li>
</ul>
<p>As part of this the topics section has been renamed to <code class="docutils literal notranslate"><span class="pre">connections_section</span></code> and the <code class="docutils literal notranslate"><span class="pre">bagmeta</span></code> node has changed a bit. Please update your configuration along the lines of:</p>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="gh">diff --git a/docs/config/marv.conf b/docs/config/marv.conf</span>
<span class="gh">index 0e44b19..31dfe57 100644</span>
<span class="gd">--- a/docs/config/marv.conf</span>
<span class="gi">+++ b/docs/config/marv.conf</span>
<span class="gu">@@ -24,7 +24,7 @@ nodes =</span>
     marv_robotics.detail:summary_keyval
     marv_robotics.detail:bagmeta_table
     # detail sections
<span class="gd">-    marv_robotics.detail:topics_section</span>
<span class="gi">+    marv_robotics.detail:connections_section</span>
     marv_robotics.detail:images_section
     marv_robotics.detail:video_section
     marv_robotics.detail:gnss_section
<span class="gu">@@ -43,8 +43,8 @@ filters =</span>
     start_time | Start time    | lt le eq ne ge gt | datetime   | (get &quot;bagmeta.start_time&quot;)
     end_time   | End time      | lt le eq ne ge gt | datetime   | (get &quot;bagmeta.end_time&quot;)
     duration   | Duration      | lt le eq ne ge gt | timedelta  | (get &quot;bagmeta.duration&quot;)
<span class="gd">-    topics     | Topics        | any all           | subset     | (get &quot;bagmeta.topics[:].name&quot;)</span>
<span class="gd">-    msg_types  | Message types | any all           | subset     | (get &quot;bagmeta.msg_types[:].name&quot;)</span>
<span class="gi">+    topics     | Topics        | any all           | subset     | (get &quot;bagmeta.topics&quot;)</span>
<span class="gi">+    msg_types  | Message types | any all           | subset     | (get &quot;bagmeta.msg_types&quot;)</span>
 
 listing_columns =
     # id       | Heading    | formatter | value function
<span class="gu">@@ -69,7 +69,7 @@ detail_summary_widgets =</span>
     bagmeta_table
 
 detail_sections =
<span class="gd">-    topics_section</span>
<span class="gi">+    connections_section</span>
     images_section
     video_section
     gnss_section
</pre></div>
</div>
<p>And then rerun the bagmeta node and the new connections section.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">marv run --node bagmeta --node connections_section --force --collection=*</span>
</pre></div>
</div>
<p>Now, nodes can be run, that were previously missing message type definitions. <code class="docutils literal notranslate"><span class="pre">gnss_plots</span></code> for example works differently, if it cannot find navsat orientations. To rerun it and all nodes depending on it:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">marv run --node gnss_plots --force --force-dependent --collection=*</span>
</pre></div>
</div>
</div>
<div class="section" id="migrate-17-11">
<span id="id14"></span><h3>17.11<a class="headerlink" href="#migrate-17-11" title="Permalink to this headline">¶</a></h3>
<p>In the old site:</p>
<ol class="arabic">
<li><p><strong>Make sure you have a backup of your old site!</strong></p></li>
<li><p>Dump database of old marv:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">curl -LO https://gist.githubusercontent.com/chaoflow/02a1be706cf4948a9f4d7f1fd66d6c73/raw/de4feab88bcfa756abfb6c7f5a8ccaef7f25b36d/marv-16.10-dump.py</span>
<span class="go">python2 marv-16.10-dump.py &gt; /tmp/dump.json</span>
</pre></div>
</div>
</li>
</ol>
<p>For and in the new instance:</p>
<ol class="arabic" start="3">
<li><p>Follow <a class="reference internal" href="../install/index.html#install"><span class="std std-ref">Installation</span></a> and <a class="reference internal" href="../tutorial/setup-basic-site.html#setup-basic-site"><span class="std std-ref">Tutorial: Setup basic site</span></a> to setup a basic site.</p></li>
<li><p>Replace <code class="docutils literal notranslate"><span class="pre">marv.conf</span></code> with the default <a class="reference internal" href="../config.html#config"><span class="std std-ref">Configuration</span></a> and adjust as needed (e.g. scanroot).</p></li>
<li><p>Initialize site with new configuration:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">marv init</span>
</pre></div>
</div>
</li>
<li><p>If your scanroot has moved, adjust paths as needed:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sed -i -e &#39;s,/old/scanroot/,/path/to/new/scanroot/,g&#39; /tmp/dump.json</span>
</pre></div>
</div>
</li>
<li><p>Restore database in new marv:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">marv restore /tmp/dump.json</span>
</pre></div>
</div>
</li>
<li><p>Set password for each user:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">marv user pw &lt;username&gt;</span>
</pre></div>
</div>
</li>
<li><p>Run nodes:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">marv query -0 --collection=bags |xargs -0 -L25 -P4 marv run --keep-going</span>
</pre></div>
</div>
</li>
<li><p>Run again sequentially to see if there are nodes producing errors:</p></li>
</ol>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">marv run --collection=bags</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">MARV Robotics</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/setup-basic-site.html">Tutorial: Setup basic site</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/write-your-own.html">Tutorial: Write your own nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTING.html">Contribution guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patterns.html">Patterns and known issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../debug.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../views.html">Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scan.html">Scanner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nodes.html">Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../widgets.html">Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../httpapi.html">HTTP API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upload.html">Upload (EE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deploy.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accesscontrol.html">Access Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintenance.html">Maintenance</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Migration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#migrate-20-12-0">20.12.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="#database-migration">Database migration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#code-migration-ce">Code migration (CE)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#config-migration-ee">Config migration (EE)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#session-key-file">Session key file</a></li>
<li class="toctree-l2"><a class="reference internal" href="#table-column-sorting">Table column sorting</a></li>
<li class="toctree-l2"><a class="reference internal" href="#changes-to-access-control">Changes to access control</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id4">Database migration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id6">Database migration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../CHANGES.html">Changelog</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/marv.html">marv</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../maintenance.html" title="previous chapter">Maintenance</a></li>
      <li>Next: <a href="../CHANGES.html" title="next chapter">Changelog</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy; Copyright 2016-2019  Ternaris.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.4.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/migrate/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>