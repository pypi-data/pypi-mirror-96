.\" Man page generated from reStructuredText.
.
.TH "CDIST-TYPE__ACL" "7" "Feb 28, 2021" "6.9.5" "cdist"
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH NAME
.sp
cdist\-type__acl \- Set ACL entries
.SH DESCRIPTION
.sp
Fully supported and tested on Linux (ext4 filesystem), partial support for FreeBSD.
.sp
See \fBsetfacl\fP and \fBacl\fP manpages for more details.
.sp
One of \fB\-\-entry\fP or \fB\-\-source\fP must be used.
.SH OPTIONAL MULTIPLE PARAMETERS
.INDENT 0.0
.TP
.B entry
Set ACL entry following \fBgetfacl\fP output syntax.
Must be used if \fB\-\-source\fP is not used.
.UNINDENT
.SH OPTIONAL PARAMETERS
.INDENT 0.0
.TP
.B source
Read ACL entries from stdin or file.
Ordering of entries is not important.
When reading from file, comments and empty lines are ignored.
Must be used if \fB\-\-entry\fP is not used.
.TP
.B file
Create/change file with \fB__file\fP using \fBuser:group:mode\fP pattern.
.TP
.B directory
Create/change directory with \fB__directory\fP using \fBuser:group:mode\fP pattern.
.UNINDENT
.SH BOOLEAN PARAMETERS
.INDENT 0.0
.TP
.B default
Set all ACL entries as default too.
Only directories can have default ACLs.
Setting default ACL in FreeBSD is currently not supported.
.TP
.B recursive
Make \fBsetfacl\fP recursive (Linux only), but not \fBgetfacl\fP in explorer.
.TP
.B remove
Remove undefined ACL entries.
\fBmask\fP and \fBother\fP entries can\(aqt be removed, but only changed.
.UNINDENT
.SH EXAMPLES
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
__acl /srv/project \e
    \-\-default \e
    \-\-recursive \e
    \-\-remove \e
    \-\-entry user:alice:rwx \e
    \-\-entry user:bob:r\-x \e
    \-\-entry group:project\-group:rwx \e
    \-\-entry group:some\-other\-group:r\-x \e
    \-\-entry mask::r\-x \e
    \-\-entry other::r\-x

# give Alice read\-only access to subdir,
# but don\(aqt allow her to see parent content.

__acl /srv/project2 \e
    \-\-remove \e
    \-\-entry default:group:secret\-project:rwx \e
    \-\-entry group:secret\-project:rwx \e
    \-\-entry user:alice:\-\-x

__acl /srv/project2/subdir \e
    \-\-default \e
    \-\-remove \e
    \-\-entry group:secret\-project:rwx \e
    \-\-entry user:alice:r\-x

# read acl from stdin
echo \(aquser:alice:rwx\(aq \e
    | __acl /path/to/directory \-\-source \-

# create/change directory too
__acl /path/to/directory \e
    \-\-default \e
    \-\-remove \e
    \-\-directory root:root:770 \e
    \-\-entry user:nobody:rwx
.ft P
.fi
.UNINDENT
.UNINDENT
.SH AUTHORS
.sp
Ander Punnar <ander\-at\-kvlt\-dot\-ee>
.SH COPYING
.sp
Copyright (C) 2018 Ander Punnar. You can redistribute it
and/or modify it under the terms of the GNU General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.
.SH COPYRIGHT
ungleich GmbH 2020
.\" Generated by docutils manpage writer.
.
