.\" Man page generated from reStructuredText.
.
.TH "CDIST-TYPE__DPKG_ARCHITECTURE" "7" "Feb 28, 2021" "6.9.5" "cdist"
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH NAME
.sp
cdist\-type__dpkg_architecture \- Handles foreign architectures on debian\-like
systems managed by \fIdpkg\fP
.SH DESCRIPTION
.sp
This type handles foreign architectures on systems managed by
\fBdpkg\fP(1). The object id is the name of the architecture accepted by
\fIdpkg\fP, which should be added or removed.
.sp
If the architecture is not setup on the system, it adds a new architecture as a
new foreign architecture in \fIdpkg\fP\&. Then, it updates the apt package index to
make packages from the new architecture available.
.sp
If the architecture should be removed, it will remove it if it is not the base
architecture on where the system was installed on. Before it, it will purge
every package based on the "to be removed" architecture via \fIapt\fP to be able to
remove the selected architecture.
.SH REQUIRED PARAMETERS
.sp
None.
.SH OPTIONAL PARAMETERS
.INDENT 0.0
.TP
.B state
\fBpresent\fP or \fBabsent\fP\&. Defaults to \fBpresent\fP\&.
.UNINDENT
.SH MESSAGES
.INDENT 0.0
.TP
.B added
Added the specified architecture
.TP
.B removed
Removed the specified architecture
.UNINDENT
.SH ABORTS
.sp
Aborts in the following cases:
.sp
If \fBdpkg\fP(1) is not available. It will abort with a proper error
message.
.sp
If the architecture is the same as the base architecture the system is build
upon it (returned by \fBdpkg \-\-print\-architecture\fP) and it should be removed.
.sp
It will fail if it can not execute \fBapt\fP(8). It is assumed that it is
already installed.
.SH EXAMPLES
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
# add i386 (32 bit) architecture
__dpkg_architecture i386

# remove it again :)
__dpkg_architecture i386 \-\-state absent
.ft P
.fi
.UNINDENT
.UNINDENT
.SH SEE ALSO
.sp
\fI\%Multiarch on Debian systems\fP
.sp
\fI\%How to setup multiarch on Debian\fP
.sp
\fBdpkg\fP(1)
\fBcdist\-type__package_dpkg\fP(7)
\fBcdist\-type__package_apt\fP(7)
.sp
Useful commands:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
# base architecture installed on this system
dpkg \-\-print\-architecture

# extra architectures added
dpkg \-\-print\-foreign\-architectures
.ft P
.fi
.UNINDENT
.UNINDENT
.SH AUTHORS
.sp
Matthias Stecher <matthiasstecher at gmx.de>
.SH COPYING
.sp
Copyright (C) 2020 Matthias Stecher. You can redistribute it
and/or modify it under the terms of the GNU General Public License as
ublished by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.
.SH COPYRIGHT
ungleich GmbH 2020
.\" Generated by docutils manpage writer.
.
