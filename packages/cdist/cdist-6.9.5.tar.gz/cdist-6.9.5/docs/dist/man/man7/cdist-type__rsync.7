.\" Man page generated from reStructuredText.
.
.TH "CDIST-TYPE__RSYNC" "7" "Feb 28, 2021" "6.9.5" "cdist"
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH NAME
.sp
cdist\-type__rsync \- Mirror directories using rsync
.SH DESCRIPTION
.sp
WARNING: This type is of BETA quality:
.INDENT 0.0
.IP \(bu 2
it has not been tested widely
.IP \(bu 2
interfaces \fImay\fP change
.IP \(bu 2
if there is a better approach to solve the problem \-> the type may even vanish
.UNINDENT
.sp
If you are fine with these constraints, please read on.
.sp
This cdist type allows you to mirror local directories to the
target host using rsync. Rsync will be installed in the manifest of the type.
If group or owner are giveng, a recursive chown will be executed on the
target host.
.sp
A slash will be appended to the source directory so that only the contents
of the directory are taken and not the directory name itself.
.SH REQUIRED PARAMETERS
.INDENT 0.0
.TP
.B source
Where to take files from
.UNINDENT
.SH OPTIONAL PARAMETERS
.INDENT 0.0
.TP
.B group
Group to chgrp to.
.TP
.B owner
User to chown to.
.TP
.B destination
Use this as the base destination instead of the object id
.TP
.B remote\-user
Use this user instead of the default "root" for rsync operations.
.UNINDENT
.SH OPTIONAL MULTIPLE PARAMETERS
.INDENT 0.0
.TP
.B rsync\-opts
Use this option to give rsync options with.
See rsync(1) for available options.
Only "\-\-" options are supported.
Write the options without the beginning "\-\-"
Can be specified multiple times.
.UNINDENT
.SH MESSAGES
.sp
NONE
.SH EXAMPLES
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
# You can use any source directory
__rsync /tmp/testdir \e
    \-\-source /etc

# Use source from type
__rsync /etc \e
    \-\-source "$__type/files/package"

# Allow multiple __rsync objects to write to the same dir
__rsync mystuff \e
    \-\-destination /usr/local/bin \e
    \-\-source "$__type/files/package"

__rsync otherstuff \e
    \-\-destination /usr/local/bin \e
    \-\-source "$__type/files/package2"

# Use rsync option \-\-exclude
__rsync /tmp/testdir \e
    \-\-source /etc \e
    \-\-rsync\-opts exclude=sshd_conf

# Use rsync with multiple options \-\-exclude \-\-dry\-run
__rsync /tmp/testing \e
    \-\-source /home/tester \e
    \-\-rsync\-opts exclude=id_rsa \e
    \-\-rsync\-opts dry\-run
.ft P
.fi
.UNINDENT
.UNINDENT
.SH SEE ALSO
.sp
\fBrsync\fP(1)
.SH AUTHORS
.sp
Nico Schottelius <\fI\%nico\-cdist\-\-@\-\-schottelius.org\fP>
.SH COPYING
.sp
Copyright (C) 2015 Nico Schottelius. You can redistribute it
and/or modify it under the terms of the GNU General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.
.SH COPYRIGHT
ungleich GmbH 2020
.\" Generated by docutils manpage writer.
.
