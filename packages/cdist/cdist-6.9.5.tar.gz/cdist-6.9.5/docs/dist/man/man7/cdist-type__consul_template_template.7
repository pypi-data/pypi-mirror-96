.\" Man page generated from reStructuredText.
.
.TH "CDIST-TYPE__CONSUL_TEMPLATE_TEMPLATE" "7" "Feb 28, 2021" "6.9.5" "cdist"
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH NAME
.sp
cdist\-type__consul_template_template \- Manage consul\-template templates
.SH DESCRIPTION
.sp
Generate and deploy template definitions for a consul\-template.
See \fI\%https://github.com/hashicorp/consul\-template#examples\fP for documentation.
Templates are written in the Go template format.
Either the \-\-source or the \-\-source\-file parameter must be given.
.SH REQUIRED PARAMETERS
.INDENT 0.0
.TP
.B destination
the destination where the generated file should go.
.UNINDENT
.SH OPTIONAL PARAMETERS
.INDENT 0.0
.TP
.B command
an optional command to run after rendering the template to its destination.
.TP
.B source
path to the template source. Conflicts \-\-source\-file.
.TP
.B source\-file
path to a local file which is uploaded using the __file type and configured
as the source.
If source is \(aq\-\(aq (dash), take what was written to stdin as the file content.
Conflicts \-\-source.
.TP
.B state
if this template is \(aqpresent\(aq or \(aqabsent\(aq. Defaults to \(aqpresent\(aq.
.TP
.B wait
The \fIminimum(:maximum)\fP time to wait before rendering a new template to
disk and triggering a command, separated by a colon (\fI:\fP). If the optional
maximum value is omitted, it is assumed to be 4x the required minimum value.
This is a numeric time with a unit suffix ("5s"). There is no default value.
The wait value for a template takes precedence over any globally\-configured
wait.
.UNINDENT
.SH EXAMPLES
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
# configure template on the target
__consul_template_template nginx \e
   \-\-source /etc/my\-consul\-templates/nginx.ctmpl \e
   \-\-destination /etc/nginx/nginx.conf \e
   \-\-command \(aqservice nginx restart\(aq


# upload a local file to the target and configure it
__consul_template_template nginx \e
   \-\-wait \(aq2s:6s\(aq \e
   \-\-source\-file "$__manifest/files/nginx.ctmpl" \e
   \-\-destination /etc/nginx/nginx.conf \e
   \-\-command \(aqservice nginx restart\(aq
.ft P
.fi
.UNINDENT
.UNINDENT
.SH SEE ALSO
.sp
\fBcdist\-type__consul_template\fP(7), \fBcdist\-type__consul_template_config\fP(7)
.SH AUTHORS
.sp
Steven Armstrong <\fI\%steven\-cdist\-\-@\-\-armstrong.cc\fP>
.SH COPYING
.sp
Copyright (C) 2015\-2016 Steven Armstrong. You can redistribute it
and/or modify it under the terms of the GNU General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.
.SH COPYRIGHT
ungleich GmbH 2020
.\" Generated by docutils manpage writer.
.
