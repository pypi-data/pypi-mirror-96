.\" Man page generated from reStructuredText.
.
.TH "CDIST-TYPE__UCI_SECTION" "7" "Feb 28, 2021" "6.9.5" "cdist"
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH NAME
.sp
cdist\-type__uci_section \- Manage configuration sections in UCI
.SH DESCRIPTION
.sp
This cdist type can be used to replace whole configuration sections in OpenWrt\(aqs
Unified Configuration Interface (UCI) system.
It can be thought of as syntactic sugar for \fBcdist\-type__uci\fP(7),
as this type will generate the required \fI__uci\fP objects to make the section
contain exactly the options specified using \fB\-\-option\fP\&.
.sp
Since many default UCI sections are unnamed, this type allows to find the
matching section by one of its options using the \fB\-\-match\fP parameter.
.sp
\fBNOTE:\fP Options already present on the target and not listed in \fB\-\-option\fP
or \fB\-\-list\fP will be deleted.
.SH REQUIRED PARAMETERS
.sp
None.
.SH OPTIONAL PARAMETERS
.INDENT 0.0
.TP
.B list
An option that is part of a list and should be present in the section (as
part of a list).  Lists with multiple options can be expressed by using the
same \fB<option>\fP repeatedly.
.sp
The value to this parameter is a \fB<option>=<value>\fP string.
.sp
\fB<value>\fP does not need special quoting for UCI.
The only requirement is that the value is passed to the type as a single
shell argument.
.TP
.B match
Allows to find a section to "replace" through one of its parameters.
.sp
The value to this parameter is a \fB<option>=<value>\fP string.
.TP
.B option
An option that should be present in the section.
This parameter can be used multiple times to specify multiple options.
.sp
The value to this parameter is a \fB<option>=<value>\fP string.
.sp
\fB<value>\fP does not need special quoting for UCI.
The only requirement is that the value is passed to the type as a single
shell argument.
.TP
.B state
\fBpresent\fP or \fBabsent\fP, defaults to \fBpresent\fP\&.
.TP
.B type
The type of the section in the format: \fB<config>.<section\-type>\fP
.UNINDENT
.SH BOOLEAN PARAMETERS
.sp
None.
.SH EXAMPLES
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
# Configure the dropbear daemon
__uci_section dropbear \-\-type dropbear.dropbear \e
    \-\-match Port=22 \-\-option Port=22 \e
    \-\-option PasswordAuth=off \e
    \-\-option RootPasswordAuth=off

# Define a firewall zone comprised of lan and wlan networks
__uci_section firewall.internal \-\-type firewall.zone \e
    \-\-option name=\(aqinternal\(aq \e
    \-\-list network=\(aqlan\(aq \e
    \-\-list network=\(aqwlan\(aq \e
    \-\-option input=\(aqACCEPT\(aq \e
    \-\-option output=\(aqACCEPT\(aq \e
    \-\-option forward=\(aqACCEPT\(aq

# Block SSH access from the guest network
__uci_section firewall.block_ssh_from_guest \-\-type firewall.rule \e
    \-\-option name=\(aqBlock\-SSH\-Access\-from\-Guest\(aq \e
    \-\-option src=\(aqguest\(aq \e
    \-\-option proto=\(aqtcp\(aq \e
    \-\-option dest_port=\(aq22\(aq \e
    \-\-option target=\(aqREJECT\(aq

# Configure a Wi\-Fi access point
__uci_section wireless.default_radio0 \-\-type wireless.wifi\-iface \e
    \-\-option device=\(aqradio0\(aq \e
    \-\-option mode=\(aqap\(aq \e
    \-\-option network=\(aqwlan\(aq \e
    \-\-option ssid=\(aqmywifi\(aq \e
    \-\-option encryption="psk2\(aq \e
    \-\-option key=\(aqhunter2\(aq
.ft P
.fi
.UNINDENT
.UNINDENT
.SH SEE ALSO
.INDENT 0.0
.IP \(bu 2
\fI\%https://openwrt.org/docs/guide\-user/base\-system/uci\fP
.IP \(bu 2
\fBcdist\-type__uci\fP(7)
.UNINDENT
.SH AUTHORS
.sp
Dennis Camera <\fI\%dennis.camera@ssrq\-sds\-fds.ch\fP>
.SH COPYING
.sp
Copyright (C) 2020 Dennis Camera. You can redistribute it
and/or modify it under the terms of the GNU General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.
.SH COPYRIGHT
ungleich GmbH 2020
.\" Generated by docutils manpage writer.
.
