.\" Man page generated from reStructuredText.
.
.TH "CDIST-TYPE__PACKAGE_DPKG" "7" "Feb 28, 2021" "6.9.5" "cdist"
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH NAME
.sp
cdist\-type__package_dpkg \- Manage packages with dpkg
.SH DESCRIPTION
.sp
This type is used on Debian and variants (like Ubuntu) to
install packages that are provided locally as *.deb files.
.sp
The object given to this type must be the name of the deb package.
The filename of the deb package has to follow Debian naming conventions, i.e.
\fI${binary:Package}_${Version}_${Architecture}.deb\fP (see \fIdpkg\-query(1)\fP for
details).
.SH OPTIONAL PARAMETERS
.INDENT 0.0
.TP
.B state
\fIpresent\fP or \fIabsent\fP, defaults to \fIpresent\fP\&.
.UNINDENT
.SH REQUIRED PARAMETERS
.INDENT 0.0
.TP
.B source
path to the *.deb package
.UNINDENT
.SH BOOLEAN PARAMETERS
.INDENT 0.0
.TP
.B purge\-if\-absent
If this parameter is given when state is \fIabsent\fP, the package is
purged from the system (using \fI\-\-purge\fP).
.UNINDENT
.SH EXPLORER
.INDENT 0.0
.TP
.B pkg_state
Returns the full package name if package is installed, empty otherwise.
.UNINDENT
.SH MESSAGES
.INDENT 0.0
.TP
.B installed
The deb\-file was installed.
.TP
.B removed (\-\-remove)
The package was removed, keeping config.
.TP
.B removed (\-\-purge)
The package was removed including config (purged).
.UNINDENT
.SH EXAMPLES
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
# Install foo and bar packages
__package_dpkg foo_0.1_all.deb \-\-source /tmp/foo_0.1_all.deb
__package_dpkg bar_1.4.deb \-\-source $__type/files/bar_1.4.deb

# uninstall baz:
__package_dpkg baz_1.4_amd64.deb \e
    \-\-source $__type/files/baz_1.4_amd64.deb \e
    \-\-state "absent"
# uninstall baz and also purge config\-files:
__package_dpkg baz_1.4_amd64.deb \e
    \-\-source $__type/files/baz_1.4_amd64.deb \e
    \-\-purge\-if\-absent \e
    \-\-state "absent"
.ft P
.fi
.UNINDENT
.UNINDENT
.SH SEE ALSO
.sp
\fBcdist\-type__package\fP(7), \fBdpkg\-query\fP(1)
.SH AUTHORS
.nf
Tomas Pospisek <\fI\%tpo_deb\-\-@\-\-sourcepole.ch\fP>
Thomas Eckert <\fI\%tom\-\-@\-\-it\-eckert.de\fP>
.fi
.sp
.SH COPYING
.sp
Copyright (C) 2013 Tomas Pospisek. You can redistribute it
and/or modify it under the terms of the GNU General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.
This type is based on __package_apt.
.SH COPYRIGHT
ungleich GmbH 2020
.\" Generated by docutils manpage writer.
.
