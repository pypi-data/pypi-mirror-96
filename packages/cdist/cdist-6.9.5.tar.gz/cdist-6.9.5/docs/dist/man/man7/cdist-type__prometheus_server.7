.\" Man page generated from reStructuredText.
.
.TH "CDIST-TYPE__PROMETHEUS_SERVER" "7" "Feb 28, 2021" "6.9.5" "cdist"
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH NAME
.sp
cdist\-type__prometheus_server \- install Prometheus
.SH DESCRIPTION
.sp
Install and configure Prometheus (\fI\%https://prometheus.io/\fP).
.sp
Note that due to significant differences between Prometheus 1.x and 2.x, only 2.x is supported. It is your responsibility to make sure that your package manager installs 2.x. (On Devuan Ascii, the parameter \fI\-\-install\-from\-backports\fP helps.)
.SH REQUIRED PARAMETERS
.INDENT 0.0
.TP
.B config
Prometheus configuration file. It will be saved as /etc/prometheus/prometheus.yml on the target.
.UNINDENT
.SH OPTIONAL PARAMETERS
.INDENT 0.0
.TP
.B retention\-days
How long to keep data. Default: 30
.TP
.B rule\-files
Path to rule files. They will be installed under /etc/prometheus/<filename>. You need to include \fIrule_files: [/etc/prometheus/<your\-pattern>]\fP in the config file if you use this.
.TP
.B storage\-path
Where to put data. Default: /data/prometheus. (Directory will be created if needed.)
.UNINDENT
.SH BOOLEAN PARAMETERS
.INDENT 0.0
.TP
.B install\-from\-backports
Valid on Devuan only. Will enable the backports apt source and install the package from there. Useful for getting a newer version.
.UNINDENT
.SH EXAMPLES
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
PROMPORT=9090
ALERTPORT=9093

__prometheus_server \e
    \-\-install\-from\-backports \e
    \-\-config "$__manifest/files/prometheus.yml" \e
    \-\-retention\-days 14 \e
    \-\-storage\-path /data/prometheus \e
    \-\-rule\-files "$__manifest/files/*.rules"
.ft P
.fi
.UNINDENT
.UNINDENT
.SH SEE ALSO
.sp
\fBcdist\-type__prometheus_alertmanager\fP(7), \fBcdist\-type__grafana_dashboard\fP(7),
Prometheus documentation: \fI\%https://prometheus.io/docs/introduction/overview/\fP
.SH AUTHORS
.sp
Kamila Součková <\fI\%kamila\-\-@\-\-ksp.sk\fP>
.SH COPYING
.sp
Copyright (C) 2018 Kamila Součková. You can redistribute it
and/or modify it under the terms of the GNU General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.
.SH COPYRIGHT
ungleich GmbH 2020
.\" Generated by docutils manpage writer.
.
