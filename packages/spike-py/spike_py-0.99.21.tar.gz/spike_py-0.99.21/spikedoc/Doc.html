
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" />
    <title>First contact SPIKE &#8212; spike 0.99.21-490 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="spike package" href="spike.html" />
    <link rel="prev" title="What is SPIKE ?" href="Readme.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="first-contact-spike">
<h1>First contact SPIKE<a class="headerlink" href="#first-contact-spike" title="Permalink to this headline">¶</a></h1>
<div class="section" id="general-organization">
<h2>General Organization<a class="headerlink" href="#general-organization" title="Permalink to this headline">¶</a></h2>
<p><strong>SPIKE</strong> is a library and a set of programs and utilities meant to process, display and analyze spectroscopic data-sets.
It is mostly oriented towards <strong>NMR</strong> and <strong>FT-MS</strong> (FT-ICR and Orbitrap) but can probably be rapidly extended to any new domain.</p>
<div class="section" id="history-of-spike">
<h3>History of SPIKE<a class="headerlink" href="#history-of-spike" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="a-working-examples">
<h3>A Working examples<a class="headerlink" href="#a-working-examples" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="plotting">
<h3>Plotting<a class="headerlink" href="#plotting" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>ytbw</p>
</div></blockquote>
</div>
</div>
<div class="section" id="data-file">
<h2>Data File<a class="headerlink" href="#data-file" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>ytbw</p>
</div></blockquote>
</div>
<div class="section" id="advance-usage">
<h2>Advance Usage<a class="headerlink" href="#advance-usage" title="Permalink to this headline">¶</a></h2>
<p>SPIKE organizes internally its data in two pieces:</p>
<blockquote>
<div><ul class="simple">
<li><p>a large n-dimensional real array that contains the actual spectroscopic data</p></li>
<li><p>an Axis() object, which contains all the characteristics along the given axis (calibration, data-type, size, etc…)</p></li>
</ul>
</div></blockquote>
<p>This organization is the same regardless we are handling NMR Orbitrap or FTICR Data, the Axis() object is just overloaded with the corresponding set of parameters</p>
<div class="section" id="caveat-on-type">
<h3>Caveat on type<a class="headerlink" href="#caveat-on-type" title="Permalink to this headline">¶</a></h3>
<p>The main buffer is always a numpy array of type float64. However, some cases requires the spectroscopic data-set to be handled by complexes (for instance phase sensitive NMR of MS spectra). In this case the buffer remains a numpy array of type float64, and the attribute <cite>.type</cite> of the Axis() is set to 1, indicating the buffer should be considered as complex, with the real part located in even entries and imaginary parts located in odd entries (and the size forced to an even number).
All internal SPIKE routine handle this and will consider complexes a data-set with its <cite>.type</cite> set to 1.
For a n-Dimensional data-set, each axes has a type value, allowing hypercomplex arithmetics (see below)</p>
</div>
<div class="section" id="caveat-on-size">
<h3>Caveat on size<a class="headerlink" href="#caveat-on-size" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>ytbw</p>
</div></blockquote>
</div>
<div class="section" id="moving-data-around">
<h3>Moving data around<a class="headerlink" href="#moving-data-around" title="Permalink to this headline">¶</a></h3>
<p>The  main buffer is accessible through the <cite>.get_buffer()</cite> and <cite>.set_buffer()</cite> methods.
<cite>.get_buffer()</cite> will actually return a plain numpy array typed relative to the axis <cite>.type</cite> so that for a complex data-set, this command returns a complex array, whereas for a real data-set the array is real.
So if you want to</p>
<p><cite>.get_buffer()</cite> has an optional argument <cite>copy</cite> which is <cite>False</cite> by default. When <cite>False</cite> , only an <em>Image</em> of the data is returned, with no memory location being actually copied, so it does not take memory space.</p>
<p>Because of this mechanism, operations like</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">set_buffer</span><span class="p">(</span> <span class="mi">2</span><span class="o">*</span><span class="n">data</span><span class="o">.</span><span class="n">get_buffer</span><span class="p">()</span> <span class="p">)</span>
</pre></div>
</div>
<p>is actually performed in-place in the main buffer, and does not use any additional memory space.
However, with data being typed real, doing:</p>
<blockquote>
<div><p>data.set_buffer( 2j*data.get_buffer() )</p>
</div></blockquote>
<p>would create a new buffer, as a <cite>2j</cite> if the complex number $0 +2i$ and the complex numbers thus created take twice the room of the initial data, because of the imaginary part which has to be created.</p>
<p><em>Remark both examples are actually a bit contrived, as SPIKE allows doing:  (see below)</em></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">*=</span> <span class="mi">2</span>           <span class="c1"># to mean multiply by 2 the values of the data set</span>
</pre></div>
</div>
<p>If <cite>copy=True</cite> however, a new memory space is created and the data are copied into it.</p>
<p>The main buffer is actually stored in the attribute <cite>.buffer</cite> of an NPKData. Thus <cite>.buffer</cite> is a standard numpy array, so you can actually play with it:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">buffer</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</pre></div>
</div>
<p>but this is strongly discouraged, because the data-set is not checked. This syntax is used in some parts of the internal code for optimization reasons.</p>
</div>
<div class="section" id="data-set-arithmetics">
<h3>Data-set arithmetics<a class="headerlink" href="#data-set-arithmetics" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="hypercomplex-arithmetics">
<h3>Hypercomplex arithmetics<a class="headerlink" href="#hypercomplex-arithmetics" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>ytbw</p>
</div></blockquote>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">spike</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Readme.html">What is SPIKE ?</a></li>
<li class="toctree-l1"><a class="reference internal" href="Readme.html#usage">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="Readme.html#how-do-i-get-spike">How do I get SPIKE ?</a></li>
<li class="toctree-l1"><a class="reference internal" href="Readme.html#developing-for-spike">Developing for SPIKE</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">First contact SPIKE</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#general-organization">General Organization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#history-of-spike">History of SPIKE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#a-working-examples">A Working examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#plotting">Plotting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#data-file">Data File</a></li>
<li class="toctree-l2"><a class="reference internal" href="#advance-usage">Advance Usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#caveat-on-type">Caveat on type</a></li>
<li class="toctree-l3"><a class="reference internal" href="#caveat-on-size">Caveat on size</a></li>
<li class="toctree-l3"><a class="reference internal" href="#moving-data-around">Moving data around</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data-set-arithmetics">Data-set arithmetics</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hypercomplex-arithmetics">Hypercomplex arithmetics</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="spike.html">spike package</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">SPIKE Relase Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="licenses.html">SPIKE License</a></li>
<li class="toctree-l1"><a class="reference internal" href="licenses.html#secondary-licenses">Secondary Licenses</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="Readme.html" title="previous chapter">What is SPIKE ?</a></li>
      <li>Next: <a href="spike.html" title="next chapter">spike package</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2010-2019, IGBMC and others.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/Doc.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>