.. highlight:: rest

.. _internals:

*********
Internals
*********

Overview
========

This file contains notes related to the internal
workings of PypeIt.

Objects
=======


filesort
--------

This *dict* whose keys are the various :doc:`frametype` used
in PypeIt and the items are arrays of the indices of the frames
with that type.

Generated by arsort.sort_data()

.. _internal_setup_dict:

setup_dict
----------

This highly nested *dict* organizes the various setups used in the input set of
data files.  The top-level keys, which define the setup,
are simple labels:  A, B, C, ...

The next set of keys are:

*  '--': which holds a *dict* defining properties of the setup (e.g. dichroic)
*  '01': a *dict* holding detector specific info (e.g. binning)
*  'aa', 'ab', 'ac', etc:  are *dict*'s containing lists of filenames as a function of frame type

Here is an example (as output to the .setups file)::

    A:
      --:
        dichroic: d55
        disperser: {angle: None, name: 600/4310}
        slit: {decker: 0.5 arcsec, slitlen: None, slitwid: None}
      '01': {binning: None, det: 1, namp: 2}


Usually generated by arsetup.instr_setup()

.. _internal_setup_id:

setup_ID
--------

The setup_ID is then commbines the keys of the :ref:`internal_setup_dict`,
e.g.  **A_01_aa**
