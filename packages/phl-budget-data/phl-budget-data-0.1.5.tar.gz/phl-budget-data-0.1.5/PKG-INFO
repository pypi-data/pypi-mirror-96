Metadata-Version: 2.1
Name: phl-budget-data
Version: 0.1.5
Summary: PHL Budget Data
Home-page: https://github.com/PhiladelphiaController/phl-budget-data
License: MIT
Author: Nick Hand
Author-email: nick.hand@phila.gov
Requires-Python: >=3.7.1,<4.0.0
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Requires-Dist: beautifulsoup4 (>=4.9.3,<5.0.0)
Requires-Dist: boto3 (>=1.17.12,<2.0.0)
Requires-Dist: click (>=7.0,<8.0)
Requires-Dist: desert (>=2020.11.18,<2021.0.0)
Requires-Dist: intervaltree (>=3.1.0,<4.0.0)
Requires-Dist: loguru (>=0.5.3,<0.6.0)
Requires-Dist: numpy (>=1.20.1,<2.0.0)
Requires-Dist: pandas (>=1.2.1,<2.0.0)
Requires-Dist: pdfplumber (>=0.5.25,<0.6.0)
Requires-Dist: python-dotenv (>=0.15.0,<0.16.0)
Requires-Dist: selenium (>=3.141.0,<4.0.0)
Requires-Dist: webdriver-manager (>=3.3.0,<4.0.0)
Project-URL: Repository, https://github.com/PhiladelphiaController/phl-budget-data
Description-Content-Type: text/markdown

# phl-budget-data

Aggregating and cleaning City of Philadelphia budget-related data

# Installation

```
pip install phl_budget_data
```
# Examples

The subsections below list examples for loading various kinds of budget-related data sets for the City of Philadelphia.

## Revenue Reports

Data is available from the City of Philadelphia's Revenue reports, as published to the [City's website](https://www.phila.gov/departments/department-of-revenue/reports/).

### City Collections

Monthly PDF reports are available on the City of Philadelphia's website according to fiscal year (example: [FY 2021](https://www.phila.gov/documents/fy-2021-city-monthly-revenue-collections/)).


Load the data:

```python
from phl_budget_data.clean import load_monthly_tax_collections

data = load_monthly_tax_collections("city")
data.head()
```

Output:
```python
                             name  fiscal_year        total month_name  month  fiscal_month  year       date
0  wage_earnings_net_profits_city         2021  112703449.0        dec     12             6  2020 2020-12-01
1       wage_earnings_net_profits         2021  149179593.0        dec     12             6  2020 2020-12-01
2                       wage_city         2021  111383438.0        dec     12             6  2020 2020-12-01
3                       wage_pica         2021   35437417.0        dec     12             6  2020 2020-12-01
4                            wage         2021  146820855.0        dec     12             6  2020 2020-12-01
```
### School District Collections

Monthly PDF reports are available on the City of Philadelphia's website according to fiscal year (example: [FY 2021](https://www.phila.gov/documents/fy-2021-school-district-monthly-revenue-collections/)).

Load the data:

```python
from phl_budget_data.clean import load_monthly_tax_collections

data = load_monthly_tax_collections("school")
data.head()
```

Output:

```python
                name  fiscal_year     total month_name  month  fiscal_month  year       date
0        real_estate         2021  30509964        dec     12             6  2020 2020-12-01
1      school_income         2021    163926        dec     12             6  2020 2020-12-01
2  use_and_occupancy         2021  15288162        dec     12             6  2020 2020-12-01
3             liquor         2021   2207352        dec     12             6  2020 2020-12-01
4       other_nontax         2021     45772        dec     12             6  2020 2020-12-01
```

### Monthly Wage Tax Collections by Industry

Monthly PDF reports are available on the City of Philadelphia's website according to calendar year (example: [2020](https://www.phila.gov/documents/2020-wage-tax-by-industry/)).


Load the data:

```python
from phl_budget_data.clean import load_wage_collections_by_industry

data = load_wage_collections_by_industry()
data.head()
```

Output:

```python
                                            industry             parent_industry       total month_name  month  fiscal_month  year  fiscal_year       date
0                                  Other Governments                  Government    177693.0        dec     12             6  2020         2021 2020-12-01
1                                    Social Services  Health and Social Services   4631670.0        dec     12             6  2020         2021 2020-12-01
2  Outpatient Care Centers and Other Health Services  Health and Social Services   5302884.0        dec     12             6  2020         2021 2020-12-01
3  Doctors, Dentists, and Other Health Practitioners  Health and Social Services   3390537.0        dec     12             6  2020         2021 2020-12-01
4                                          Hospitals  Health and Social Services  19327622.0        dec     12             6  2020         2021 2020-12-01
```


## Quarterly City Manager's Report

PDF reports are available on the City of Philadelphia's website [here](https://www.phila.gov/finance/reports-Quarterly.html).

*Coming Soon*


