(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{xMQT:function(l,n,u){"use strict";u.r(n);var t=u("LoAr"),a=function(){},e=u("15Kt"),s=u("C9Ky"),i=u("Ey0D"),c=u("+6L5"),o=u("WT9V"),r=u("GovN"),p=u("adEB"),b=u("6s9y"),d=u("4Da4"),f=Object.assign||function(l){for(var n,u=1,t=arguments.length;u<t;u++)for(var a in n=arguments[u])Object.prototype.hasOwnProperty.call(n,a)&&(l[a]=n[a]);return l},g=function(){function l(l){var n=this;this.store=l,this.processItems=[],this.subscriptions=[],this.req={page:1,count:1e3},this.processes$=l.pipe(Object(r.E)(d.b)),this.processesWithVisualizableFiles$=l.pipe(Object(r.E)(d.g)),this.dropboxFiles$=l.pipe(Object(r.E)(d.a)),this.subscriptions.push(this.dropboxFiles$.subscribe(function(l){n.filesItem={display_name:"~/pVAC-Seq/visualize",type:"directory",contents:l}})),this.subscriptions.push(this.processesWithVisualizableFiles$.subscribe(function(l){n.processItems=l.map(function(l){return{display_name:l.parameters.samplename,type:"process",id:l.id,contents:l.files.map(function(l){return f({},l,{type:"file"})})}})}))}return l.prototype.ngOnInit=function(){this.store.dispatch(new b.j(this.req)),this.store.dispatch(new p.b)},l.prototype.ngOnDestroy=function(){this.subscriptions.map(function(l){return l.unsubscribe()})},l.prototype.onProcessReload=function(){this.store.dispatch(new b.j(this.req))},l.prototype.onVizReload=function(){this.store.dispatch(new p.b)},l}(),O=t.Ma({encapsulation:0,styles:[[".card-block.files[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{margin:-.5rem -.75rem -.25rem}.card-block.files[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   .file-table[_ngcontent-%COMP%]{margin-bottom:0;margin-top:0}.card-block.files[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   .file-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#efefef}.card-block.files[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   .file-table[_ngcontent-%COMP%]   tr.directory[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:1px solid #ddd;padding:20px 12px;text-align:left;font-size:.75rem;font-weight:200;letter-spacing:normal}.card-block.files[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   .file-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, .card-block.files[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   .file-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding-left:.75rem}.card-block.files[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   .file-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, .card-block.files[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   .file-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding-right:.75rem}"]],data:{}});function h(l){return t.ib(0,[(l()(),t.Oa(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.gb(-1,null,[" No processes found with visualizable results. "]))],null,null)}function v(l){return t.ib(0,[(l()(),t.Oa(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.Oa(1,0,null,null,1,"recursive-treeview",[],null,null,null,i.b,i.a)),t.Na(2,49152,null,0,c.a,[],{item:[0,"item"],processId:[1,"processId"]},null)],function(l,n){l(n,2,0,n.context.$implicit,n.context.$implicit.id)},null)}function m(l){return t.ib(0,[(l()(),t.Oa(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.Fa(16777216,null,null,1,null,v)),t.Na(2,278528,null,0,o.l,[t.N,t.K,t.q],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Fa(0,null,null,0))],function(l,n){l(n,2,0,n.component.processItems)},null)}function W(l){return t.ib(0,[(l()(),t.Oa(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.gb(-1,null,[" No visualizable files found in ~/pVACseq/visualize/ "]))],null,null)}function M(l){return t.ib(0,[(l()(),t.Oa(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.Oa(1,0,null,null,1,"recursive-treeview",[],null,null,null,i.b,i.a)),t.Na(2,49152,null,0,c.a,[],{item:[0,"item"],processId:[1,"processId"]},null)],function(l,n){l(n,2,0,n.component.filesItem,"-1")},null)}function P(l){return t.ib(0,[(l()(),t.Oa(0,0,null,null,5,"div",[["class","page-header"]],null,null,null,null,null)),(l()(),t.Oa(1,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.Oa(2,0,null,null,3,"div",[["class","col-xs-6"]],null,null,null,null,null)),(l()(),t.Oa(3,0,null,null,2,"h3",[["class","page-title"]],null,null,null,null,null)),(l()(),t.Oa(4,0,null,null,1,"span",[["class","page-type"]],null,null,null,null,null)),(l()(),t.gb(-1,null,["Visualizable Files"])),(l()(),t.Oa(6,0,null,null,33,"div",[["class","page-content"]],null,null,null,null,null)),(l()(),t.Oa(7,0,null,null,32,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.Oa(8,0,null,null,14,"div",[["class","col-xs-6"]],null,null,null,null,null)),(l()(),t.Oa(9,0,null,null,13,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.Oa(10,0,null,null,6,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.Oa(11,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.Oa(12,0,null,null,1,"div",[["class","col-xs-8"]],null,null,null,null,null)),(l()(),t.gb(-1,null,[" Process Results "])),(l()(),t.Oa(14,0,null,null,2,"div",[["class","col-xs-4 card-header-buttons"]],null,null,null,null,null)),(l()(),t.Oa(15,0,null,null,1,"button",[["class","btn btn-sm"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.onProcessReload()&&t),t},null,null)),(l()(),t.gb(-1,null,[" Reload "])),(l()(),t.Oa(17,0,null,null,5,"div",[["class","card-block"]],null,null,null,null,null)),(l()(),t.Oa(18,0,null,null,4,"div",[["class","card-text"]],null,null,null,null,null)),(l()(),t.Fa(16777216,null,null,1,null,h)),t.Na(20,16384,null,0,o.m,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.Fa(16777216,null,null,1,null,m)),t.Na(22,16384,null,0,o.m,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.Oa(23,0,null,null,16,"div",[["class","col-xs-6"]],null,null,null,null,null)),(l()(),t.Oa(24,0,null,null,15,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.Oa(25,0,null,null,6,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.Oa(26,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.Oa(27,0,null,null,1,"div",[["class","col-xs-8"]],null,null,null,null,null)),(l()(),t.gb(-1,null,[" Visualize Folder "])),(l()(),t.Oa(29,0,null,null,2,"div",[["class","col-xs-4 card-header-buttons"]],null,null,null,null,null)),(l()(),t.Oa(30,0,null,null,1,"button",[["class","btn btn-sm"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.onVizReload()&&t),t},null,null)),(l()(),t.gb(-1,null,[" Reload "])),(l()(),t.Oa(32,0,null,null,7,"div",[["class","card-block"]],null,null,null,null,null)),(l()(),t.Oa(33,0,null,null,6,"div",[["class","card-text"]],null,null,null,null,null)),(l()(),t.Fa(16777216,null,null,2,null,W)),t.Na(35,16384,null,0,o.m,[t.N,t.K],{ngIf:[0,"ngIf"]},null),t.ab(131072,o.b,[t.h]),(l()(),t.Fa(16777216,null,null,2,null,M)),t.Na(38,16384,null,0,o.m,[t.N,t.K],{ngIf:[0,"ngIf"]},null),t.ab(131072,o.b,[t.h])],function(l,n){var u,a,e=n.component;l(n,20,0,e.processItems.length<1),l(n,22,0,e.processItems.length>0),l(n,35,0,(null==(u=t.hb(n,35,0,t.Ya(n,36).transform(e.dropboxFiles$)))?null:u.length)<1),l(n,38,0,(null==(a=t.hb(n,38,0,t.Ya(n,39).transform(e.dropboxFiles$)))?null:a.length)>0)},null)}var C=t.Ka("pvz-visualize-page",g,function(l){return t.ib(0,[(l()(),t.Oa(0,0,null,null,1,"pvz-visualize-page",[],null,null,null,P,O)),t.Na(1,245760,null,0,g,[r.n],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),_=function(){function l(){}return l.prototype.ngOnInit=function(){},l}(),I=t.Ma({encapsulation:0,styles:[[""]],data:{}});function y(l){return t.ib(0,[(l()(),t.Oa(0,0,null,null,2,"iframe",[["frameBorder","0"],["height","2000"],["width","100%"]],[[8,"src",5]],null,null,null,null)),(l()(),t.Oa(1,0,null,null,1,"span",[["class","spinner"]],null,null,null,null,null)),(l()(),t.gb(-1,null,[" Loading... "]))],null,function(l,n){l(n,0,0,n.component.visualizeUrl)})}var x=u("rPGB"),z=(u("TErw"),u("AouM")),w=u("eb+u"),k=u("G2Mx"),$=u("jtrZ"),N=function(){function l(l,n,u){var t=this;this.store=l,this.conf=n,this.sanitizer=u,this.subscriptions=[],this.processId$=l.pipe(Object(r.E)(d.i)),this.fileId$=l.pipe(Object(r.E)(d.h)),this.visualizeUrl$=this.processId$.pipe(Object(w.a)(this.fileId$),Object(z.a)(function(l){var n=l[0],u=l[1];console.log("processId: "+n+"; fileId: "+u);var a=t.conf.bokehUrl()+"/processes/"+n+"/results/"+u+"/visualize";return x.a.of(t.sanitizer.bypassSecurityTrustResourceUrl(a))})),this.file$=l.pipe(Object(r.E)(d.j)),this.process$=l.pipe(Object(r.E)(d.k))}return l.prototype.ngOnInit=function(){var l=this;this.file$.subscribe(function(l){console.log(l)}),this.processId$.pipe(Object(k.a)(1)).subscribe(function(n){l.store.dispatch(n>0?new b.k:new p.b)})},l.prototype.ngOnDestroy=function(){this.subscriptions.map(function(l){return l.unsubscribe()})},l}(),j=u("SeAg"),F=t.Ma({encapsulation:0,styles:[[".page-subtitle[_ngcontent-%COMP%]   .file-description[_ngcontent-%COMP%]{font-style:oblique}"]],data:{}});function K(l){return t.ib(0,[(l()(),t.Oa(0,0,null,null,12,null,null,null,null,null,null,null)),(l()(),t.Oa(1,0,null,null,2,"span",[["class","page-type"]],null,null,null,null,null)),(l()(),t.gb(2,null,["",""])),t.ab(131072,o.b,[t.h]),(l()(),t.Oa(4,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Oa(5,0,null,null,7,"span",[["class","page-subtitle"]],null,null,null,null,null)),(l()(),t.Oa(6,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),t.gb(7,null,["",""])),t.ab(131072,o.b,[t.h]),(l()(),t.gb(-1,null,["\xa0 "])),(l()(),t.Oa(10,0,null,null,2,"span",[["class","file-description"]],null,null,null,null,null)),(l()(),t.gb(11,null,["(",")"])),t.ab(131072,o.b,[t.h])],null,function(l,n){var u,a,e,s=n.component;l(n,2,0,null==(u=t.hb(n,2,0,t.Ya(n,3).transform(s.process$)))?null:u.parameters.samplename),l(n,7,0,null==(a=t.hb(n,7,0,t.Ya(n,8).transform(s.file$)))?null:a.display_name),l(n,11,0,null==(e=t.hb(n,11,0,t.Ya(n,12).transform(s.file$)))?null:e.description)})}function q(l){return t.ib(0,[(l()(),t.Oa(0,0,null,null,9,null,null,null,null,null,null,null)),(l()(),t.Oa(1,0,null,null,2,"span",[["class","page-type"]],null,null,null,null,null)),(l()(),t.gb(2,null,["",""])),t.ab(131072,o.b,[t.h]),(l()(),t.Oa(4,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Oa(5,0,null,null,4,"span",[["class","page-subtitle"]],null,null,null,null,null)),(l()(),t.Oa(6,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),t.gb(7,null,["",""])),t.ab(131072,o.b,[t.h]),(l()(),t.gb(-1,null,["\xa0 "]))],null,function(l,n){var u,a,e=n.component;l(n,2,0,null==(u=t.hb(n,2,0,t.Ya(n,3).transform(e.file$)))?null:u.display_name),l(n,7,0,null==(a=t.hb(n,7,0,t.Ya(n,8).transform(e.file$)))?null:a.description)})}function V(l){return t.ib(2,[(l()(),t.Oa(0,0,null,null,11,"div",[["class","page-header"]],null,null,null,null,null)),(l()(),t.Oa(1,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.Oa(2,0,null,null,8,"div",[["class","col-xs-12"]],null,null,null,null,null)),(l()(),t.Oa(3,0,null,null,7,"h3",[["class","page-title"]],null,null,null,null,null)),(l()(),t.Oa(4,0,null,null,6,null,null,null,null,null,null,null)),t.Na(5,16384,null,0,o.p,[],{ngSwitch:[0,"ngSwitch"]},null),t.ab(131072,o.b,[t.h]),(l()(),t.Fa(16777216,null,null,1,null,K)),t.Na(8,278528,null,0,o.q,[t.N,t.K,o.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t.Fa(16777216,null,null,1,null,q)),t.Na(10,278528,null,0,o.q,[t.N,t.K,o.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t.Oa(11,0,null,null,0,"div",[["class","col-xs-4 text-right page-buttons"]],null,null,null,null,null)),(l()(),t.Oa(12,0,null,null,2,"pvz-bokeh-visualization",[],null,null,null,y,I)),t.Na(13,114688,null,0,_,[],{visualizeUrl:[0,"visualizeUrl"]},null),t.ab(131072,o.b,[t.h])],function(l,n){var u=n.component;l(n,5,0,t.hb(n,5,0,t.Ya(n,6).transform(u.processId$))>0),l(n,8,0,!0),l(n,10,0,!1),l(n,13,0,t.hb(n,13,0,t.Ya(n,14).transform(u.visualizeUrl$)))},null)}var S=t.Ka("pvz-visualize-file",N,function(l){return t.ib(0,[(l()(),t.Oa(0,0,null,null,1,"pvz-visualize-file",[],null,null,null,V,F)),t.Na(1,245760,null,0,N,[r.n,$.a,j.c],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),D=u("qpVk"),E=u("IfiR"),U=u("981U"),R=function(){},Y=u("QV/k"),A=u("6DH+");u.d(n,"VisualizeModuleNgFactory",function(){return L});var L=t.La(a,[],function(l){return t.Va([t.Wa(512,t.j,t.Aa,[[8,[e.P,e.b,e.O,s.a,C,S]],[3,t.j],t.v]),t.Wa(4608,o.o,o.n,[t.s,[2,o.D]]),t.Wa(4608,D.Lb,D.Lb,[]),t.Wa(4608,E.k,E.k,[]),t.Wa(5120,D.Ic,D.Jc,[[3,D.Ic]]),t.Wa(1073742336,o.c,o.c,[]),t.Wa(1073742336,D.W,D.W,[]),t.Wa(1073742336,D.Mb,D.Mb,[]),t.Wa(1073742336,D.id,D.id,[]),t.Wa(1073742336,D.P,D.P,[]),t.Wa(1073742336,D.d,D.d,[]),t.Wa(1073742336,D.Q,D.Q,[]),t.Wa(1073742336,D.n,D.n,[]),t.Wa(1073742336,D.od,D.od,[]),t.Wa(1073742336,D.qd,D.qd,[]),t.Wa(1073742336,D.J,D.J,[]),t.Wa(1073742336,D.S,D.S,[]),t.Wa(1073742336,E.j,E.j,[]),t.Wa(1073742336,E.c,E.c,[]),t.Wa(1073742336,D.Ga,D.Ga,[]),t.Wa(1073742336,D.Qb,D.Qb,[]),t.Wa(1073742336,D.Ac,D.Ac,[]),t.Wa(1073742336,D.D,D.D,[]),t.Wa(1073742336,D.bb,D.bb,[]),t.Wa(1073742336,D.pb,D.pb,[]),t.Wa(1073742336,D.u,D.u,[]),t.Wa(1073742336,D.Ka,D.Ka,[]),t.Wa(1073742336,D.Fa,D.Fa,[]),t.Wa(1073742336,D.i,D.i,[]),t.Wa(1073742336,D.j,D.j,[]),t.Wa(1073742336,D.cb,D.cb,[]),t.Wa(1073742336,D.q,D.q,[]),t.Wa(1073742336,D.Ia,D.Ia,[]),t.Wa(1073742336,D.Ma,D.Ma,[]),t.Wa(1073742336,D.Kc,D.Kc,[]),t.Wa(1073742336,D.ib,D.ib,[]),t.Wa(1073742336,D.vb,D.vb,[]),t.Wa(1073742336,D.Da,D.Da,[]),t.Wa(1073742336,D.Ua,D.Ua,[]),t.Wa(1073742336,D.nb,D.nb,[]),t.Wa(1073742336,D.Pa,D.Pa,[]),t.Wa(1073742336,D.zb,D.zb,[]),t.Wa(1073742336,D.a,D.a,[]),t.Wa(1073742336,U.r,U.r,[[2,U.y],[2,U.n]]),t.Wa(1073742336,R,R,[]),t.Wa(1073742336,Y.a,Y.a,[]),t.Wa(1073742336,A.a,A.a,[]),t.Wa(1073742336,a,a,[]),t.Wa(1024,U.l,function(){return[[{path:"",component:g},{path:"process/:processId/results/:fileId",component:N}]]},[])])})}}]);