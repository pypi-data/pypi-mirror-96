(self.webpackChunkziviz=self.webpackChunkziviz||[]).push([[261,568],{568:(e,t,r)=>{e.exports=r(966),e.exports.version=r(306).version},111:(e,t,r)=>{let l=!1;function i(e){l||(new Function(e.get("plotly_js"))(),l=!0)}e.exports={inject_js:function(e){if(l)return;e.on("change:plotly_js",i,e);let t="";t=void 0===r.g.require?void 0===r.g.Plotly?"lab_inc":"lab_not_inc":"nb",e.set("plotly_js_req",t)}}},261:(e,t,r)=>{var l=r(568),i=r(337);e.exports={id:"ziviz",requires:[i.IJupyterWidgetRegistry],activate:function(e,t){t.registerWidget({name:"ziviz",version:l.version,exports:l})},autoStart:!0}},716:(e,t,r)=>{var l=r(158);Object.keys(l).forEach((e=>{l[e]=new Map(Object.entries(l[e]))})),e.exports=l},158:e=>{"use strict";e.exports=JSON.parse('{"histogram":{"x":"%axis_selector","color":"%axis_selector","facet_row":"%axis_selector","facet_col":"%axis_selector","histnorm":["","percent","probability","density","probability density"],"template":["","ggplot2","seaborn","simple_white","plotly","plotly_white","plotly_dark","presentation","xgridoff","ygridoff","gridon"],"color_discrete_sequence":["","Alphabet","Antique","Bold","D3","Dark2","Dark24","G10","Light24","Pastel","Pastel1","Pastel2","Plotly","Prism","Safe","Set1","Set2","Set3","T10","Vivid"]},"box":{"x":"%axis_selector","y":"%axis_selector","color":"%axis_selector","facet_row":"%axis_selector","facet_col":"%axis_selector","color_discrete_sequence":["","Alphabet","Antique","Bold","D3","Dark2","Dark24","G10","Light24","Pastel","Pastel1","Pastel2","Plotly","Prism","Safe","Set1","Set2","Set3","T10","Vivid"],"orientation":["","h","v"],"boxmode":["","group","overlay"],"points":["","outliers","suspectedoutliers","all"],"template":["","ggplot2","seaborn","simple_white","plotly","plotly_white","plotly_dark","presentation","xgridoff","ygridoff","gridon"]},"bar chart":{"x":"%axis_selector","y":"%axis_selector","color":"%axis_selector","facet_row":"%axis_selector","facet_col":"%axis_selector","base":"%axis_selector","orientation":["","h","v"],"barmode":["","group","overlay","relative"],"template":["","ggplot2","seaborn","simple_white","plotly","plotly_white","plotly_dark","presentation","xgridoff","ygridoff","gridon"],"color_continuous_scale":["","aggrnyl","agsunset","blackbody","bluered","blues","blugrn","bluyl","brwnyl","bugn","bupu","burg","burgyl","cividis","darkmint","electric","emrld","gnbu","greens","greys","hot","inferno","jet","magenta","magma","mint","orrd","oranges","oryel","peach","pinkyl","plasma","plotly3","pubu","pubugn","purd","purp","purples","purpor","rainbow","rdbu","rdpu","redor","reds","sunset","sunsetdark","teal","tealgrn","turbo","viridis","ylgn","ylgnbu","ylorbr","ylorrd","algae","amp","deep","dense","gray","haline","ice","matter","solar","speed","tempo","thermal","turbid","armyrose","brbg","earth","fall","geyser","prgn","piyg","picnic","portland","puor","rdgy","rdylbu","rdylgn","spectral","tealrose","temps","tropic","balance","curl","delta","oxy","edge","hsv","icefire","phase","twilight","mrybm","mygbm"],"color_discrete_sequence":["","Alphabet","Antique","Bold","D3","Dark2","Dark24","G10","Light24","Pastel","Pastel1","Pastel2","Plotly","Prism","Safe","Set1","Set2","Set3","T10","Vivid"]},"line chart":{"x":"%axis_selector","y":"%axis_selector","color":"%axis_selector","facet_row":"%axis_selector","facet_col":"%axis_selector","line_dash":"%axis_selector","orientation":["","h","v"],"line_shape":["","linear","spline"],"template":["","ggplot2","seaborn","simple_white","plotly","plotly_white","plotly_dark","presentation","xgridoff","ygridoff","gridon"],"color_discrete_sequence":["","Alphabet","Antique","Bold","D3","Dark2","Dark24","G10","Light24","Pastel","Pastel1","Pastel2","Plotly","Prism","Safe","Set1","Set2","Set3","T10","Vivid"]},"scatter plot":{"x":"%axis_selector","y":"%axis_selector","color":"%axis_selector","facet_row":"%axis_selector","facet_col":"%axis_selector","symbol":"%axis_selector","size":"%axis_selector","marginal_x":["","rug","box","violin","histogram"],"marginal_y":["","rug","box","violin","histogram"],"trendline":["","ols","lowess"],"template":["","ggplot2","seaborn","simple_white","plotly","plotly_white","plotly_dark","presentation","xgridoff","ygridoff","gridon"],"color_continuous_scale":["","aggrnyl","agsunset","blackbody","bluered","blues","blugrn","bluyl","brwnyl","bugn","bupu","burg","burgyl","cividis","darkmint","electric","emrld","gnbu","greens","greys","hot","inferno","jet","magenta","magma","mint","orrd","oranges","oryel","peach","pinkyl","plasma","plotly3","pubu","pubugn","purd","purp","purples","purpor","rainbow","rdbu","rdpu","redor","reds","sunset","sunsetdark","teal","tealgrn","turbo","viridis","ylgn","ylgnbu","ylorbr","ylorrd","algae","amp","deep","dense","gray","haline","ice","matter","solar","speed","tempo","thermal","turbid","armyrose","brbg","earth","fall","geyser","prgn","piyg","picnic","portland","puor","rdgy","rdylbu","rdylgn","spectral","tealrose","temps","tropic","balance","curl","delta","oxy","edge","hsv","icefire","phase","twilight","mrybm","mygbm"],"color_discrete_sequence":["","Alphabet","Antique","Bold","D3","Dark2","Dark24","G10","Light24","Pastel","Pastel1","Pastel2","Plotly","Prism","Safe","Set1","Set2","Set3","T10","Vivid"]},"scatter matrix":{"color":"%axis_selector","template":["","ggplot2","seaborn","simple_white","plotly","plotly_white","plotly_dark","presentation","xgridoff","ygridoff","gridon"],"color_continuous_scale":["","aggrnyl","agsunset","blackbody","bluered","blues","blugrn","bluyl","brwnyl","bugn","bupu","burg","burgyl","cividis","darkmint","electric","emrld","gnbu","greens","greys","hot","inferno","jet","magenta","magma","mint","orrd","oranges","oryel","peach","pinkyl","plasma","plotly3","pubu","pubugn","purd","purp","purples","purpor","rainbow","rdbu","rdpu","redor","reds","sunset","sunsetdark","teal","tealgrn","turbo","viridis","ylgn","ylgnbu","ylorbr","ylorrd","algae","amp","deep","dense","gray","haline","ice","matter","solar","speed","tempo","thermal","turbid","armyrose","brbg","earth","fall","geyser","prgn","piyg","picnic","portland","puor","rdgy","rdylbu","rdylgn","spectral","tealrose","temps","tropic","balance","curl","delta","oxy","edge","hsv","icefire","phase","twilight","mrybm","mygbm"],"color_discrete_sequence":["","Alphabet","Antique","Bold","D3","Dark2","Dark24","G10","Light24","Pastel","Pastel1","Pastel2","Plotly","Prism","Safe","Set1","Set2","Set3","T10","Vivid"]},"pie chart":{"values":"%axis_selector","names":"%axis_selector","color":"%axis_selector","template":["","ggplot2","seaborn","simple_white","plotly","plotly_white","plotly_dark","presentation","xgridoff","ygridoff","gridon"],"color_discrete_sequence":["","Alphabet","Antique","Bold","D3","Dark2","Dark24","G10","Light24","Pastel","Pastel1","Pastel2","Plotly","Prism","Safe","Set1","Set2","Set3","T10","Vivid"]},"timeline":{"x_start":"%axis_selector","x_end":"%axis_selector","y":"%axis_selector","color":"%axis_selector","facet_row":"%axis_selector","facet_col":"%axis_selector","template":["","ggplot2","seaborn","simple_white","plotly","plotly_white","plotly_dark","presentation","xgridoff","ygridoff","gridon"],"color_continuous_scale":["","aggrnyl","agsunset","blackbody","bluered","blues","blugrn","bluyl","brwnyl","bugn","bupu","burg","burgyl","cividis","darkmint","electric","emrld","gnbu","greens","greys","hot","inferno","jet","magenta","magma","mint","orrd","oranges","oryel","peach","pinkyl","plasma","plotly3","pubu","pubugn","purd","purp","purples","purpor","rainbow","rdbu","rdpu","redor","reds","sunset","sunsetdark","teal","tealgrn","turbo","viridis","ylgn","ylgnbu","ylorbr","ylorrd","algae","amp","deep","dense","gray","haline","ice","matter","solar","speed","tempo","thermal","turbid","armyrose","brbg","earth","fall","geyser","prgn","piyg","picnic","portland","puor","rdgy","rdylbu","rdylgn","spectral","tealrose","temps","tropic","balance","curl","delta","oxy","edge","hsv","icefire","phase","twilight","mrybm","mygbm"],"color_discrete_sequence":["","Alphabet","Antique","Bold","D3","Dark2","Dark24","G10","Light24","Pastel","Pastel1","Pastel2","Plotly","Prism","Safe","Set1","Set2","Set3","T10","Vivid"]}}')},966:(module,__unused_webpack_exports,__webpack_require__)=>{var widgets=__webpack_require__(337);let init_module=__webpack_require__(111);const viz_types=__webpack_require__(716);let create_selector_from_array=function(e,t){let r=document.createElement("select");return r.classList.add("ziviz_observe"),e.forEach((function(e){let l=document.createElement("option");l.setAttribute("value",e),l.innerHTML=e,e==t&&l.setAttribute("selected",!0),r.appendChild(l)})),r},update_header=function(e,t){let r=t.get("axis_options"),l=e.querySelector("[data-ziviz_type='viz_type']").value,i=viz_types[l],a=Array.from(viz_types[l].keys()),o=new Map(t.get("viz_params")?.v?.map((e=>[e.id,e.val])));e.querySelectorAll("div.ziviz_option_container").forEach((function(e){let t=e.querySelector("select").dataset.ziviz_type;a.includes(t)||e.remove()}));for(var s=0;s<a.length;s++){let l=a[s],d=i.get(l),c=0==s?null:a[s-1];if(0==e.querySelectorAll("[data-ziviz_type='"+l+"']").length){let i=document.createElement("div");i.classList.add("ziviz_option_container"),i.appendChild(document.createTextNode(l+":"));let a=create_selector_from_array("%axis_selector"===d?r:d,o?.get(l));a.setAttribute("data-ziviz_type",l),a.addEventListener("change",(function(){selection_changed_cb(e,t)})),i.appendChild(a);var n=null;null!=c&&(n=void 0===(n=e.querySelector("[data-ziviz_type='"+c+"']"))?null:n.parentNode),null==n?e.querySelector(".ziviz_options").prepend(i):n.parentNode.insertBefore(i,n.nextSibling)}}},selection_changed_cb=function(e,t){e.querySelector("div.ziviz_canvas").innerHTML="",update_header(e,t);let r={v:Array.from(e.querySelectorAll(".ziviz_observe"),(e=>({id:e.dataset.ziviz_type,val:e.value})))};t.set("viz_params",r),t.save_changes()},get_source_cb=function(e,t){e.querySelector("div.ziviz_canvas").innerHTML=t.get("viz_code")},get_header_html=function(e,t){let r=new Map(t.get("viz_params")?.v?.map((e=>[e.id,e.val]))),l=document.createElement("div");l.classList.add("ziviz_header");let i=create_selector_from_array(Object.keys(viz_types),r?.get("viz_type"));i.setAttribute("data-ziviz_type","viz_type"),i.classList.add("ziviz_viz_type"),i.addEventListener("change",(function(){selection_changed_cb(e,t)})),l.appendChild(i);let a=document.createElement("button");a.innerHTML="Source code",a.addEventListener("click",(function(){get_source_cb(e,t)})),l.appendChild(a),e.appendChild(l);let o=document.createElement("div");o.classList.add("ziviz_options"),e.appendChild(o),update_header(e,t);let s=document.createElement("div");s.classList.add("ziviz_canvas"),e.appendChild(s)};var ZivizModel=widgets.DOMWidgetModel.extend({defaults:Object.assign(widgets.DOMWidgetModel.prototype.defaults(),{_model_name:"ZivizModel",_view_name:"ZivizView",_model_module:"ziviz",_view_module:"ziviz",_model_module_version:"0.1.3",_view_module_version:"0.1.3"})}),ZivizView=widgets.DOMWidgetView.extend({render:function(){if(this.model._events["change:viz"]&&this.model._events["change:viz"].length>0)this.el.innerHTML="Only one view per widget is allowed.";else if(init_module.inject_js(this.model),get_header_html(this.el,this.model),this.model.on("change:viz",this.viz_changed,this),this.model.get("viz_params")?.v?.length>0){let e=Object.assign({},this.model.get("viz_params"));e?.n?e.n++:e.n=1,this.model.set("viz_params",e),this.model.save_changes()}},viz_changed:function(){let s=this.model.get("viz"),canv=this.el.querySelector(".ziviz_canvas");canv.innerHTML=s,canv.querySelectorAll("script").forEach((function(i){eval(i.textContent)}))}});module.exports={ZivizModel,ZivizView}},306:e=>{"use strict";e.exports={version:"0.1.4"}}}]);