<html>
<head>
    <meta charset="utf-8">
    <title>Fieldwork without pinpoint - Debug page</title>
    <sty
        [name="samples"] {
            width: 100%;
            height: 200px;
        }
    </style>
</head>
<body>
    <div class="wrapper">
        <div class="modal fade" id="pinpoint_form" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>Observations at point: <span class="pinpoint-name"></span></h2>
                    </div>
                    <form></form>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-save="observation">save</button>
                        <button type="button" class="btn btn-warning" data-dismiss="modal">cancel</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <table id="observations" class="table"></table>

    <form>
        <textarea name="samples"></textarea>
        <input type="submit" class="btn btn-success" value="Save" />
        <a href="http://github.com">External link</a>
    </form>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet-src.js"></script>

    <link rel="stylesheet" href="https://unpkg.com/select2@4.0.6-rc.1/dist/css/select2.css" />
    <script src="https://unpkg.com/select2@4.0.6-rc.1/dist/js/select2.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
    <!-- include the teramap bundles -->
    <script src="../teramap/teramap.js"></script>
    <link rel="stylesheet" href="../teramap/teramap.css" />

    <script src="protocols/loader.js"></script>
    <script>
        load_protocol(function () {
            var map = teramap.map_with_geojson('teramap', {
                baselayers: L.tileLayer('//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    maxZoom: 19,
                    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
                }),
                center: [51, -0.09],
                zoom: 13,
                fullscreenControl: false,
                searchControl: true,
                preventAccidentalScroll: false
            });
            var options = window.options || {};

            if (options.mapclick_create === false) {
                $('#observations').before('<button class="btn btn-success" id="addSample">New sample</button>');
            }

            window.controller = new teramap.fieldwork.PinpointController(map, data, options);
        });
    </script>

</body>
</html>
