/*! For license information please see 956.49ad8cd38c6eca8f55e9.js.LICENSE.txt */
(self.webpackChunkrucio_jupyterlab=self.webpackChunkrucio_jupyterlab||[]).push([[956],{2991:e=>{"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,s,o;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(s=n;0!=s--;)if(!e(t[s],r[s]))return!1;return!0}if(t instanceof Map&&r instanceof Map){if(t.size!==r.size)return!1;for(s of t.entries())if(!r.has(s[0]))return!1;for(s of t.entries())if(!e(s[1],r.get(s[0])))return!1;return!0}if(t instanceof Set&&r instanceof Set){if(t.size!==r.size)return!1;for(s of t.entries())if(!r.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(r)){if((n=t.length)!=r.length)return!1;for(s=n;0!=s--;)if(t[s]!==r[s])return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(s=n;0!=s--;)if(!Object.prototype.hasOwnProperty.call(r,o[s]))return!1;for(s=n;0!=s--;){var a=o[s];if(!e(t[a],r[a]))return!1}return!0}return t!=t&&r!=r}},956:(e,t,r)=>{"use strict";r.r(t),r.d(t,{EAsyncActionInjectType:()=>Ge,EAsyncEndTags:()=>Ce,EPostActionContext:()=>Ae,InjectAsyncAction:()=>Qe,InjectStoreState:()=>Ee,InjectStoreStateOpt:()=>Xe,PullstateContext:()=>Me,PullstateProvider:()=>Be,Store:()=>we,createAsyncAction:()=>Ne,createAsyncActionDirect:()=>Le,createPullstateCore:()=>Ve,errorResult:()=>De,successResult:()=>Te,update:()=>_e,useInstance:()=>Je,useStoreState:()=>ve,useStoreStateOpt:()=>me,useStores:()=>qe});var n,s,o,a=r(2991),i=r.n(a),c=r(6271),u=r.n(c),f="undefined"!=typeof Symbol,l="undefined"!=typeof Map,h="undefined"!=typeof Set,p=f?Symbol("immer-nothing"):((n={})["immer-nothing"]=!0,n),d=f?Symbol("immer-draftable"):"__$immer_draftable",y=f?Symbol("immer-state"):"__$immer_state",v=f?Symbol.iterator:"@@iterator",g=function(e,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function b(e,t){function r(){this.constructor=e}g(e,t),e.prototype=(r.prototype=t.prototype,new r)}function S(e){return!!e&&!!e[y]}function m(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[d]||!!e.constructor[d]||A(e)||R(e))}!function(e){e[e.Object=0]="Object",e[e.Array=1]="Array",e[e.Map=2]="Map",e[e.Set=3]="Set"}(s||(s={})),function(e){e[e.ProxyObject=0]="ProxyObject",e[e.ProxyArray=1]="ProxyArray",e[e.ES5Object=2]="ES5Object",e[e.ES5Array=3]="ES5Array",e[e.Map=4]="Map",e[e.Set=5]="Set"}(o||(o={}));var w="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function O(e,t){P(e)===s.Object?w(e).forEach((function(r){return t(r,e[r],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function P(e){if(e||I(),e[y])switch(e[y].type){case o.ES5Object:case o.ProxyObject:return s.Object;case o.ES5Array:case o.ProxyArray:return s.Array;case o.Map:return s.Map;case o.Set:return s.Set}return Array.isArray(e)?s.Array:A(e)?s.Map:R(e)?s.Set:s.Object}function _(e,t){return P(e)===s.Map?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function E(e,t){return P(e)===s.Map?e.get(t):e[t]}function C(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function A(e){return l&&e instanceof Map}function R(e){return h&&e instanceof Set}function k(e){return e.copy||e.base}function j(e,t){if(void 0===t&&(t=!1),Array.isArray(e))return e.slice();var r=Object.create(Object.getPrototypeOf(e));return w(e).forEach((function(n){if(n!==y){var s=Object.getOwnPropertyDescriptor(e,n),o=s.value;if(s.get){if(!t)throw new Error("Immer drafts cannot have computed properties");o=s.get.call(e)}s.enumerable?r[n]=o:Object.defineProperty(r,n,{value:o,writable:!0,configurable:!0})}})),r}function U(e,t){if(m(e)&&!S(e)&&!Object.isFrozen(e)){var r=P(e);r===s.Set?e.add=e.clear=e.delete=x:r===s.Map&&(e.set=e.clear=e.delete=x),Object.freeze(e),t&&O(e,(function(e,t){return U(t,!0)}))}}function x(){throw new Error("This object has been frozen and should not be mutated")}function I(){throw new Error("Illegal state, please file a bug")}var z=function(){function e(e,t){this.drafts=[],this.parent=e,this.immer=t,this.canAutoFreeze=!0}return e.prototype.usePatches=function(e){e&&(this.patches=[],this.inversePatches=[],this.patchListener=e)},e.prototype.revoke=function(){this.leave(),this.drafts.forEach(T),this.drafts=null},e.prototype.leave=function(){this===e.current&&(e.current=this.parent)},e.enter=function(t){var r=new e(e.current,t);return e.current=r,r},e}();function T(e){var t=e[y];t.type===o.ProxyObject||t.type===o.ProxyArray?t.revoke():t.revoked=!0}function D(e,t,r){var n=r.drafts[0],s=void 0!==t&&t!==n;if(e.willFinalize(r,t,s),s){if(n[y].modified)throw r.revoke(),new Error("An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.");m(t)&&(t=H(e,t,r),r.parent||M(e,t)),r.patches&&(r.patches.push({op:"replace",path:[],value:t}),r.inversePatches.push({op:"replace",path:[],value:n[y].base}))}else t=H(e,n,r,[]);return r.revoke(),r.patches&&r.patchListener(r.patches,r.inversePatches),t!==p?t:void 0}function H(e,t,r,n){var s=t[y];if(!s)return Object.isFrozen(t)?t:L(e,t,r);if(s.scope!==r)return t;if(!s.modified)return M(e,s.base,!0),s.base;if(!s.finalized){if(s.finalized=!0,L(e,s.draft,r,n),e.onDelete&&s.type!==o.Set)if(e.useProxies)O(s.assigned,(function(t,r){r||e.onDelete(s,t)}));else{var a=s.base,i=s.copy;O(a,(function(t){_(i,t)||e.onDelete(s,t)}))}e.onCopy&&e.onCopy(s),e.autoFreeze&&r.canAutoFreeze&&U(s.copy,!1),n&&r.patches&&function(e,t,r,n){switch(e.type){case o.ProxyObject:case o.ES5Object:case o.Map:return function(e,t,r,n){var s=e.base,o=e.copy;O(e.assigned,(function(e,a){var i=E(s,e),c=E(o,e),u=a?_(s,e)?"replace":"add":"remove";if(i!==c||"replace"!==u){var f=t.concat(e);r.push("remove"===u?{op:u,path:f}:{op:u,path:f,value:c}),n.push("add"===u?{op:"remove",path:f}:"remove"===u?{op:"add",path:f,value:i}:{op:"replace",path:f,value:i})}}))}(e,t,r,n);case o.ES5Array:case o.ProxyArray:return function(e,t,r,n){var s,o,a=e.base,i=e.assigned,c=e.copy;c||I(),c.length<a.length&&(a=(s=[c,a])[0],c=s[1],r=(o=[n,r])[0],n=o[1]);for(var u=c.length-a.length,f=0;a[f]===c[f]&&f<a.length;)++f;for(var l=a.length;l>f&&a[l-1]===c[l+u-1];)--l;for(var h=f;h<l;++h)if(i[h]&&c[h]!==a[h]){var p=t.concat([h]);r.push({op:"replace",path:p,value:c[h]}),n.push({op:"replace",path:p,value:a[h]})}var d=r.length;for(h=l+u-1;h>=l;--h)p=t.concat([h]),r[d+h-l]={op:"add",path:p,value:c[h]},n.push({op:"remove",path:p})}(e,t,r,n);case o.Set:!function(e,t,r,n){var s=e.base,o=e.copy,a=0;s.forEach((function(e){if(!o.has(e)){var s=t.concat([a]);r.push({op:"remove",path:s,value:e}),n.unshift({op:"add",path:s,value:e})}a++})),a=0,o.forEach((function(e){if(!s.has(e)){var o=t.concat([a]);r.push({op:"add",path:o,value:e}),n.unshift({op:"remove",path:o,value:e})}a++}))}(e,t,r,n)}}(s,n,r.patches,r.inversePatches)}return s.copy}function L(e,t,r,n){var s=t[y];return s&&(s.type!==o.ES5Object&&s.type!==o.ES5Array||(s.copy=j(s.draft,!0)),t=s.copy),O(t,(function(o,a){return N(e,r,t,s,t,o,a,n)})),t}function N(e,t,r,n,o,a,i,c){if(i===o)throw Error("Immer forbids circular references");var u=!!n&&o===r,f=R(o);if(S(i)){var l=c&&u&&!f&&!_(n.assigned,a)?c.concat(a):void 0;(function(e,t,r){switch(P(e)){case s.Map:e.set(t,r);break;case s.Set:e.delete(t),e.add(r);break;default:e[t]=r}})(o,a,i=H(e,i,t,l)),S(i)&&(t.canAutoFreeze=!1)}else{if(u&&C(i,E(n.base,a)))return;m(i)&&(O(i,(function(s,o){return N(e,t,r,n,i,s,o,c)})),t.parent||M(e,i))}u&&e.onAssign&&!f&&e.onAssign(n,a,i)}function M(e,t,r){void 0===r&&(r=!1),e.autoFreeze&&!S(t)&&U(t,r)}var B={get:function(e,t){if(t===y)return e;var r=e.drafts;if(!e.modified&&_(r,t))return r[t];var n=k(e)[t];if(e.finalized||!m(n))return n;if(e.modified){if(n!==W(e.base,t))return n;r=e.copy}return r[t]=e.scope.immer.createProxy(n,e)},has:function(e,t){return t in k(e)},ownKeys:function(e){return Reflect.ownKeys(k(e))},set:function(e,t,r){if(!e.modified){var n=W(e.base,t);if(r?C(n,r)||r===e.drafts[t]:C(n,r)&&t in e.base)return!0;$(e),K(e)}return e.assigned[t]=!0,e.copy[t]=r,!0},deleteProperty:function(e,t){return void 0!==W(e.base,t)||t in e.base?(e.assigned[t]=!1,$(e),K(e)):e.assigned[t]&&delete e.assigned[t],e.copy&&delete e.copy[t],!0},getOwnPropertyDescriptor:function(e,t){var r=k(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&(n.writable=!0,n.configurable=e.type!==o.ProxyArray||"length"!==t),n},defineProperty:function(){throw new Error("Object.defineProperty() cannot be used on an Immer draft")},getPrototypeOf:function(e){return Object.getPrototypeOf(e.base)},setPrototypeOf:function(){throw new Error("Object.setPrototypeOf() cannot be used on an Immer draft")}},F={};function W(e,t){var r=e[y],n=Reflect.getOwnPropertyDescriptor(r?k(r):e,t);return n&&n.value}function K(e){if(!e.modified){if(e.modified=!0,e.type===o.ProxyObject||e.type===o.ProxyArray){var t=e.copy=j(e.base);O(e.drafts,(function(e,r){t[e]=r})),e.drafts=void 0}e.parent&&K(e.parent)}}function $(e){e.copy||(e.copy=j(e.base))}function V(e,t,r){e.drafts.forEach((function(e){e[y].finalizing=!0})),r?S(t)&&t[y].scope===e&&Z(e.drafts):(e.patches&&ee(e.drafts[0]),Z(e.drafts))}function q(e,t){var r=e[y];if(r&&!r.finalizing){r.finalizing=!0;var n=e[t];return r.finalizing=!1,n}return e[t]}function J(e){e.modified||(e.modified=!0,e.parent&&J(e.parent))}function G(e){e.copy||(e.copy=Q(e.base))}function Q(e){var t=e&&e[y];if(t){t.finalizing=!0;var r=j(t.draft,!0);return t.finalizing=!1,r}return j(e)}O(B,(function(e,t){F[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),F.deleteProperty=function(e,t){if(isNaN(parseInt(t)))throw new Error("Immer only supports deleting array indices");return B.deleteProperty.call(this,e[0],t)},F.set=function(e,t,r){if("length"!==t&&isNaN(parseInt(t)))throw new Error("Immer only supports setting array indices and the 'length' property");return B.set.call(this,e[0],t,r,e[0])};var X={};function Y(e){if(!0===e.revoked)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(k(e)))}function Z(e){for(var t=e.length-1;t>=0;t--){var r=e[t][y];if(!r.modified)switch(r.type){case o.ES5Array:re(r)&&J(r);break;case o.ES5Object:te(r)&&J(r)}}}function ee(e){if(e&&"object"==typeof e){var t=e[y];if(t){var r=t.base,n=t.draft,s=t.assigned,a=t.type;if(a===o.ES5Object)O(n,(function(e){e!==y&&(void 0!==r[e]||_(r,e)?s[e]||ee(n[e]):(s[e]=!0,J(t)))})),O(r,(function(e){void 0!==n[e]||_(n,e)||(s[e]=!1,J(t))}));else if(a===o.ES5Array){if(re(t)&&(J(t),s.length=!0),n.length<r.length)for(var i=n.length;i<r.length;i++)s[i]=!1;else for(i=r.length;i<n.length;i++)s[i]=!0;var c=Math.min(n.length,r.length);for(i=0;i<c;i++)void 0===s[i]&&ee(n[i])}}}}function te(e){for(var t=e.base,r=e.draft,n=Object.keys(r),s=n.length-1;s>=0;s--){var o=n[s],a=t[o];if(void 0===a&&!_(t,o))return!0;var i=r[o],c=i&&i[y];if(c?c.base!==a:!C(i,a))return!0}return n.length!==Object.keys(t).length}function re(e){var t=e.draft;if(t.length!==e.base.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!r||r.get)}var ne=function(e){if(!e)throw new Error("Map is not polyfilled");function t(e,t){return this[y]={type:o.Map,parent:t,scope:t?t.scope:z.current,modified:!1,finalized:!1,copy:void 0,assigned:void 0,base:e,draft:this,isManual:!1,revoked:!1},this}b(t,e);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return k(this[y]).size},enumerable:!0,configurable:!0}),r.has=function(e){return k(this[y]).has(e)},r.set=function(e,t){var r=this[y];return Y(r),k(r).get(e)!==t&&(se(r),r.scope.immer.markChanged(r),r.assigned.set(e,!0),r.copy.set(e,t),r.assigned.set(e,!0)),this},r.delete=function(e){if(!this.has(e))return!1;var t=this[y];return Y(t),se(t),t.scope.immer.markChanged(t),t.assigned.set(e,!1),t.copy.delete(e),!0},r.clear=function(){var e=this[y];return Y(e),se(e),e.scope.immer.markChanged(e),e.assigned=new Map,e.copy.clear()},r.forEach=function(e,t){var r=this;k(this[y]).forEach((function(n,s,o){e.call(t,r.get(s),s,r)}))},r.get=function(e){var t=this[y];Y(t);var r=k(t).get(e);if(t.finalized||!m(r))return r;if(r!==t.base.get(e))return r;var n=t.scope.immer.createProxy(r,t);return se(t),t.copy.set(e,n),n},r.keys=function(){return k(this[y]).keys()},r.values=function(){var e,t=this,r=this.keys();return(e={})[v]=function(){return t.values()},e.next=function(){var e=r.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},r.entries=function(){var e,t=this,r=this.keys();return(e={})[v]=function(){return t.entries()},e.next=function(){var e=r.next();if(e.done)return e;var n=t.get(e.value);return{done:!1,value:[e.value,n]}},e},r[v]=function(){return this.entries()},t}(Map);function se(e){e.copy||(e.assigned=new Map,e.copy=new Map(e.base))}var oe=function(e){if(!e)throw new Error("Set is not polyfilled");function t(e,t){return this[y]={type:o.Set,parent:t,scope:t?t.scope:z.current,modified:!1,finalized:!1,copy:void 0,base:e,draft:this,drafts:new Map,revoked:!1,isManual:!1},this}b(t,e);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return k(this[y]).size},enumerable:!0,configurable:!0}),r.has=function(e){var t=this[y];return Y(t),t.copy?!!t.copy.has(e)||!(!t.drafts.has(e)||!t.copy.has(t.drafts.get(e))):t.base.has(e)},r.add=function(e){var t=this[y];return Y(t),t.copy?t.copy.add(e):t.base.has(e)||(ae(t),t.scope.immer.markChanged(t),t.copy.add(e)),this},r.delete=function(e){if(!this.has(e))return!1;var t=this[y];return Y(t),ae(t),t.scope.immer.markChanged(t),t.copy.delete(e)||!!t.drafts.has(e)&&t.copy.delete(t.drafts.get(e))},r.clear=function(){var e=this[y];return Y(e),ae(e),e.scope.immer.markChanged(e),e.copy.clear()},r.values=function(){var e=this[y];return Y(e),ae(e),e.copy.values()},r.entries=function(){var e=this[y];return Y(e),ae(e),e.copy.entries()},r.keys=function(){return this.values()},r[v]=function(){return this.values()},r.forEach=function(e,t){for(var r=this.values(),n=r.next();!n.done;)e.call(t,n.value,n.value,this),n=r.next()},t}(Set);function ae(e){e.copy||(e.copy=new Set,e.base.forEach((function(t){if(m(t)){var r=e.scope.immer.createProxy(t,e);e.drafts.set(t,r),e.copy.add(r)}else e.copy.add(t)})))}function ie(e,t){return t.forEach((function(t){var r=t.path,n=t.op;r.length||I();for(var o=e,a=0;a<r.length-1;a++)if(!(o=E(o,r[a]))||"object"!=typeof o)throw new Error("Cannot apply patch, path doesn't resolve: "+r.join("/"));var i=P(o),c=ce(t.value),u=r[r.length-1];switch(n){case"replace":switch(i){case s.Map:return o.set(u,c);case s.Set:throw new Error('Sets cannot have "replace" patches.');default:return o[u]=c}case"add":switch(i){case s.Array:return o.splice(u,0,c);case s.Map:return o.set(u,c);case s.Set:return o.add(c);default:return o[u]=c}case"remove":switch(i){case s.Array:return o.splice(u,1);case s.Map:return o.delete(u);case s.Set:return o.delete(t.value);default:return delete o[u]}default:throw new Error("Unsupported patch operation: "+n)}})),e}function ce(e){if(!e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(ce);if(A(e))return new Map(Array.from(e.entries()).map((function(e){return[e[0],ce(e[1])]})));if(R(e))return new Set(Array.from(e).map(ce));var t=Object.create(Object.getPrototypeOf(e));for(var r in e)t[r]=ce(e[r]);return t}function ue(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),s=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,i=o.length;a<i;a++,s++)n[s]=o[a];return n}var fe={useProxies:"undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,autoFreeze:!1,onAssign:null,onDelete:null,onCopy:null},le=new(function(){function e(e){var t=this;this.useProxies=!1,this.autoFreeze=!1,O(fe,(function(r,n){var s,o;t[r]=null!=(o=null===(s=e)||void 0===s?void 0:s[r])?o:n})),this.setUseProxies(this.useProxies),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}return e.prototype.produce=function(e,t,r){var n,s=this;if("function"==typeof e&&"function"!=typeof t){var o=t;t=e;var a=this;return function(e){var r=arguments,n=this;void 0===e&&(e=o);for(var s=[],i=1;i<arguments.length;i++)s[i-1]=r[i];return a.produce(e,(function(e){return t.call.apply(t,ue([n,e],s))}))}}if("function"!=typeof t)throw new Error("The first or second argument to `produce` must be a function");if(void 0!==r&&"function"!=typeof r)throw new Error("The third argument to `produce` must be a function or undefined");if(m(e)){var i=z.enter(this),c=this.createProxy(e,void 0),u=!0;try{n=t(c),u=!1}finally{u?i.revoke():i.leave()}return"undefined"!=typeof Promise&&n instanceof Promise?n.then((function(e){return i.usePatches(r),D(s,e,i)}),(function(e){throw i.revoke(),e})):(i.usePatches(r),D(this,n,i))}if((n=t(e))!==p)return void 0===n&&(n=e),M(this,n,!0),n},e.prototype.produceWithPatches=function(e,t,r){var n,s,o=this;return"function"==typeof e?function(t){for(var r=arguments,n=[],s=1;s<arguments.length;s++)n[s-1]=r[s];return o.produceWithPatches(t,(function(t){return e.apply(void 0,ue([t],n))}))}:(r&&I(),[this.produce(e,t,(function(e,t){n=e,s=t})),n,s])},e.prototype.createDraft=function(e){if(!m(e))throw new Error("First argument to `createDraft` must be a plain object, an array, or an immerable object");var t=z.enter(this),r=this.createProxy(e,void 0);return r[y].isManual=!0,t.leave(),r},e.prototype.finishDraft=function(e,t){var r=e&&e[y];if(!r||!r.isManual)throw new Error("First argument to `finishDraft` must be a draft returned by `createDraft`");if(r.finalized)throw new Error("The given draft is already finalized");var n=r.scope;return n.usePatches(t),D(this,void 0,n)},e.prototype.setAutoFreeze=function(e){this.autoFreeze=e},e.prototype.setUseProxies=function(e){this.useProxies=e},e.prototype.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}return S(e)?ie(e,t):this.produce(e,(function(e){return ie(e,t.slice(r+1))}))},e.prototype.createProxy=function(e,t){var r=A(e)?function(e,t){return new ne(e,t)}(e,t):R(e)?function(e,t){return new oe(e,t)}(e,t):this.useProxies?function(e,t){var r=Array.isArray(e),n={type:r?o.ProxyArray:o.ProxyObject,scope:t?t.scope:z.current,modified:!1,finalized:!1,assigned:{},parent:t,base:e,draft:null,drafts:{},copy:null,revoke:null,isManual:!1},s=n,a=B;r&&(s=[n],a=F);var i=Proxy.revocable(s,a),c=i.revoke,u=i.proxy;return n.draft=u,n.revoke=c,u}(e,t):function(e,t){var r=Array.isArray(e),n=Q(e);O(n,(function(t){!function(e,t,r){var n=X[t];n?n.enumerable=r:X[t]=n={configurable:!0,enumerable:r,get:function(){return function(e,t){Y(e);var r=q(k(e),t);return e.finalizing?r:r===q(e.base,t)&&m(r)?(G(e),e.copy[t]=e.scope.immer.createProxy(r,e)):r}(this[y],t)},set:function(e){!function(e,t,r){if(Y(e),e.assigned[t]=!0,!e.modified){if(C(r,q(k(e),t)))return;J(e),G(e)}e.copy[t]=r}(this[y],t,e)}},Object.defineProperty(e,t,n)}(n,t,r||function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!(!r||!r.enumerable)}(e,t))}));var s,a,i,c={type:r?o.ES5Array:o.ES5Object,scope:t?t.scope:z.current,modified:!1,finalizing:!1,finalized:!1,assigned:{},parent:t,base:e,draft:n,copy:null,revoked:!1,isManual:!1};return s=n,a=y,i=c,Object.defineProperty(s,a,{value:i,enumerable:!1,writable:!0}),n}(e,t);return(t?t.scope:z.current).drafts.push(r),r},e.prototype.willFinalize=function(e,t,r){this.useProxies||V(e,t,r)},e.prototype.markChanged=function(e){this.useProxies?K(e):J(e)},e}()),he=le.produce,pe=le.produceWithPatches.bind(le),de=(le.setAutoFreeze.bind(le),le.setUseProxies.bind(le),le.applyPatches.bind(le));le.createDraft.bind(le),le.finishDraft.bind(le);const ye=he;function ve(e,t,r){const n=(0,c.useRef)({shouldUpdate:!0,onStoreUpdate:null,getSubState:t,currentSubState:null,setInitial:!1}),[,s]=(0,c.useState)(0);if(n.current.setInitial||(n.current.currentSubState=n.current.getSubState?n.current.getSubState(e.getRawState()):e.getRawState(),n.current.setInitial=!0),null===n.current.onStoreUpdate&&(n.current.onStoreUpdate=function(){const t=n.current.getSubState?n.current.getSubState(e.getRawState()):e.getRawState();n.current.shouldUpdate&&!i()(n.current.currentSubState,t)&&n.current.shouldUpdate&&(n.current.currentSubState=t,s((e=>e+1)))}),(0,c.useEffect)((()=>(n.current.shouldUpdate=!0,e._addUpdateListener(n.current.onStoreUpdate),()=>{n.current.shouldUpdate=!1,e._removeUpdateListener(n.current.onStoreUpdate)})),[]),void 0!==r){const s=(0,c.useRef)(r);i()(r,s)||(n.current.getSubState=t,n.current.currentSubState=t(e.getRawState()))}return n.current.currentSubState}let ge=0;function be(e,t){return t.reduce(((t=e,r)=>t[r]),void 0)}function Se(e,t){const r=e.getRawState(),n=[];for(const e of t)n.push(be(r,e));return n}function me(e,t){const[r,n]=(0,c.useState)((()=>Se(e,t))),s=(0,c.useRef)({shouldUpdate:!0,onStoreUpdate:null,currentSubState:null,ordKey:"_"+ge++});return s.current.currentSubState=r,null===s.current.onStoreUpdate&&(s.current.onStoreUpdate=function(){s.current.shouldUpdate&&n(Se(e,t))},e._addUpdateListenerOpt(s.current.onStoreUpdate,s.current.ordKey,t)),(0,c.useEffect)((()=>()=>{s.current.shouldUpdate=!1,e._removeUpdateListenerOpt(s.current.ordKey)}),[]),r}class we{constructor(e){this.updateListeners=[],this.ssr=!1,this.reactions=[],this.clientSubscriptions=[],this.reactionCreators=[],this.optimizedUpdateListeners={},this.optimizedUpdateListenerPaths={},this.optimizedListenerPropertyMap={},this._optListenerCount=0,this._patchListeners=[],this.currentState=e,this.initialState=e}_setInternalOptions({ssr:e,reactionCreators:t=[]}){this.ssr=e,this.reactionCreators=t,this.reactions=t.map((e=>e(this)))}_getReactionCreators(){return this.reactionCreators}_instantiateReactions(){this.reactions=this.reactionCreators.map((e=>e(this)))}_getInitialState(){return this.initialState}_updateStateWithoutReaction(e){this.currentState=e}_updateState(e,t=[]){this.currentState=e,this.batchState=void 0;for(const e of this.reactions)t.push(...e());if(!this.ssr){for(const e of this.clientSubscriptions)e();if(t.length>0){const e=new Set;for(const r of t)if(this.optimizedListenerPropertyMap[r])for(const t of this.optimizedListenerPropertyMap[r])e.add(t);for(const t of e.values())this.optimizedUpdateListeners[t]&&this.optimizedUpdateListeners[t]()}this.updateListeners.forEach((e=>e()))}}_addUpdateListener(e){this.updateListeners.push(e)}_addUpdateListenerOpt(e,t,r){this.optimizedUpdateListeners[t]=e;const n=r.map((e=>e.join("~._.~")));this.optimizedUpdateListenerPaths[t]=n;for(const e of n)null==this.optimizedListenerPropertyMap[e]?this.optimizedListenerPropertyMap[e]=[t]:this.optimizedListenerPropertyMap[e].push(t);this._optListenerCount++}_removeUpdateListener(e){this.updateListeners=this.updateListeners.filter((t=>t!==e))}_removeUpdateListenerOpt(e){const t=this.optimizedUpdateListenerPaths[e];for(const r of t)this.optimizedListenerPropertyMap[r]=this.optimizedListenerPropertyMap[r].filter((t=>t!==e));delete this.optimizedUpdateListenerPaths[e],delete this.optimizedUpdateListeners[e],this._optListenerCount--}listenToPatches(e){return this._patchListeners.push(e),()=>{this._patchListeners=this._patchListeners.filter((t=>t!==e))}}subscribe(e,t){if(!this.ssr){const r=function(e,t,r){let n=t(e.getRawState());return()=>{const s=e.getRawState(),o=t(s);i()(o,n)||(r(o,s,n),n=o)}}(this,e,t);return this.clientSubscriptions.push(r),()=>{this.clientSubscriptions=this.clientSubscriptions.filter((e=>e!==r))}}return()=>{console.warn("Pullstate: Subscriptions made on the server side are not registered - so therefor this call to unsubscribe does nothing.")}}createReaction(e,t,{runNow:r=!1,runNowWithSideEffects:n=!1}={}){const s=function(e,t){return r=>{let n=e(r.getRawState());return(s=!1)=>{const o=r.getRawState(),a=e(o);if(s||!i()(a,n))if(r._optListenerCount>0){const[e,s,i]=pe(o,(e=>t(a,e,o,n)));if(r._updateStateWithoutReaction(e),n=a,s.length>0)return r._patchListeners.forEach((e=>e(s,i))),Object.keys(Oe(s))}else{if(r._patchListeners.length>0){const[e,s,i]=pe(o,(e=>t(a,e,o,n)));s.length>0&&r._patchListeners.forEach((e=>e(s,i))),r._updateStateWithoutReaction(e)}else r._updateStateWithoutReaction(he(o,(e=>t(a,e,o,n))));n=a}return[]}}}(e,t);this.reactionCreators.push(s);const o=s(this);return this.reactions.push(o),(r||n)&&(o(!0),n&&!this.ssr&&this._updateState(this.currentState)),()=>{this.reactions=this.reactions.filter((e=>e!==o))}}getRawState(){return void 0!==this.batchState?this.batchState:this.currentState}useState(e,t){return ve(this,e,t)}act(e){e(((e,t)=>this.batch(e,t))),this.flushBatch(!0)}batch(e,t){void 0===this.batchState&&(this.batchState=this.currentState);const r="function"==typeof e,[n,s,o]=Pe(this.batchState,e,r);s.length>0&&(this._patchListeners.length>0||t)&&(t&&t(s,o),this._patchListeners.forEach((e=>e(s,o)))),this.batchState=n}flushBatch(e=!1){void 0!==this.batchState?this.batchState!==this.currentState&&this._updateState(this.batchState):e||console.error("Pullstate: Trying to flush batch state which was never created or updated on")}update(e,t){_e(this,e,t)}replace(e){this._updateState(e)}applyPatches(e){!function(e,t){const r=e.getRawState(),n=de(r,t);n!==r&&e._updateState(n,Object.keys(Oe(t)))}(this,e)}}function Oe(e,t={}){for(const r of e){let e;for(const n of r.path)e=e?`${e}~._.~${n}`:n,t[e]=1}return t}function Pe(e,t,r){return r?pe(e,(r=>t(r,e))):t.reduce((([e,t,r],n)=>{const s=pe(e,(t=>n(t,e)));return t.push(...s[1]),r.push(...s[2]),[s[0],t,r]}),[e,[],[]])}function _e(e,t,r){const n=e.getRawState(),s="function"==typeof t;if(e._optListenerCount>0){const[o,a,i]=Pe(n,t,s);a.length>0&&(r&&r(a,i),e._patchListeners.forEach((e=>e(a,i))),e._updateState(o,Object.keys(Oe(a))))}else{let o;if(e._patchListeners.length>0||r){const[a,i,c]=Pe(n,t,s);i.length>0&&(r&&r(i,c),e._patchListeners.forEach((e=>e(i,c)))),o=a}else o=he(n,(e=>s?t(e,n):t.reduce(((e,t)=>he(e,(r=>t(r,e)))),n)));o!==n&&e._updateState(o)}}function Ee({store:e,on:t=(e=>e),children:r}){return r(ve(e,t))}var Ce,Ae;!function(e){e.THREW_ERROR="THREW_ERROR",e.RETURNED_ERROR="RETURNED_ERROR",e.UNFINISHED="UNFINISHED",e.DORMANT="DORMANT"}(Ce||(Ce={})),function(e){e.WATCH_HIT_CACHE="WATCH_HIT_CACHE",e.BECKON_HIT_CACHE="BECKON_HIT_CACHE",e.RUN_HIT_CACHE="RUN_HIT_CACHE",e.READ_HIT_CACHE="READ_HIT_CACHE",e.READ_RUN="READ_RUN",e.SHORT_CIRCUIT="SHORT_CIRCUIT",e.DIRECT_RUN="DIRECT_RUN",e.BECKON_RUN="BECKON_RUN",e.CACHE_UPDATE="CACHE_UPDATE"}(Ae||(Ae={}));const Re={listeners:{},results:{},actions:{},actionOrd:{}};let ke,je=0;function Ue(e){if(null===e)return"(n)";const t=typeof e;if("object"!==t){if("undefined"===t)return"(u)";if("string"===t)return":"+e+";";if("boolean"===t||"number"===t)return"("+e+")"}let r="{";for(const t of Object.keys(e).sort())r+=t+Ue(e[t]);return r+"}"}function xe(e){if(Re.listeners.hasOwnProperty(e))for(const t of Object.keys(Re.listeners[e]))Re.listeners[e][t]()}function Ie(e,t=!0){t&&Re.actionOrd.hasOwnProperty(e)&&(Re.actionOrd[e]+=1),delete Re.results[e],xe(e)}function ze(e,t){return e.actionOrd.hasOwnProperty(t)?e.actionOrd[t]+=1:e.actionOrd[t]=0,e.actionOrd[t]}function Te(e=null,t=[],r=""){return{payload:e,tags:t,message:r,error:!1}}function De(e=[],t=""){return{payload:null,tags:[Ce.RETURNED_ERROR,...e],message:t,error:!0}}class He extends Error{constructor(e,t){super(e),this.tags=t}}try{ke=new Proxy({},{get:function(e,t){throw new Error(`Pullstate: Trying to access store (${String(t)}) inside async actions without the correct usage or setup.\nIf this error occurred on the server:\n* If using run(), make use of your created instance for this request: instance.runAsyncAction()\n* If using read(), useWatch(), useBeckon() etc. - make sure you have properly set up your <PullstateProvider/>\n\nIf this error occurred on the client:\n* Make sure you have created your "pullstateCore" object with all your stores, using createPullstateCore(), and are making use of instantiate() before rendering.`)}})}catch{ke={}}function Le(e,t={}){return Ne((async t=>Te(await e(t))),t)}function Ne(e,{forceContext:t=!1,shortCircuitHook:r,cacheBreakHook:n,postActionHook:s,subsetKey:o}={}){const a=je++,f="undefined"==typeof window;function l(e,t){return t?`${a}-c-${t}`:void 0!==o?`${a}-${Ue(o(e))}`:`${a}-${Ue(e)}`}let h={},p=0;const d={};function y(e,t,r,n){void 0!==s&&s({args:t,result:e,stores:r,context:n})}function v(e,t,r,s,o,a,i,c){if(t.results.hasOwnProperty(e)){const u=h.hasOwnProperty(e)&&h[e]>2;if(!(t.results[e][1]&&i&&void 0!==n&&n({args:r,result:t.results[e][2],stores:s,timeCached:t.results[e][4]}))||u)return u?console.error(`[${e}] Pullstate detected an infinite loop caused by cacheBreakHook()\nreturning true too often (breaking cache as soon as your action is resolving - hence\ncausing beckoned actions to run the action again) in one of your AsyncActions - Pullstate prevented\nfurther looping. Fix in your cacheBreakHook() is needed.`):h[e]=0,a&&t.results[e][1]&&!c&&y(t.results[e][2],r,s,o),t.results[e];h.hasOwnProperty(e)?h[e]++:h[e]=1,delete t.results[e]}}function g(t,r,n,s,o,a,i){return()=>e(n,s).then((e=>(o===r.actionOrd[t]&&(a&&y(e,n,s,i),r.results[t]=[!0,!0,e,!1,Date.now()]),e))).catch((e=>{console.error(e);const c={payload:null,error:!0,tags:[Ce.THREW_ERROR],message:e.message};return o===r.actionOrd[t]&&(a&&y(c,n,s,i),r.results[t]=[!0,!0,c,!1,Date.now()]),c})).then((e=>(o===r.actionOrd[t]&&(delete r.actions[t],f||xe(t)),e)))}function b(e,t,n,s,o,a,i=!1,c=!0,u=!0,l){const h=v(e,t,o,a,n?Ae.BECKON_HIT_CACHE:Ae.WATCH_HIT_CACHE,c,u,i);if(h)return h;if(!t.actions.hasOwnProperty(e)){const i=ze(t,e);if(!n){if(l){const e=[...l];return e[3]=!0,e}return[!1,!1,{message:"",tags:[Ce.UNFINISHED],error:!0,payload:null},!1,-1]}if(void 0!==r){const n=r({args:o,stores:a});if(!1!==n)return y(n,o,a,Ae.SHORT_CIRCUIT),t.results[e]=[!0,!0,n,!1,Date.now()],t.results[e]}!s&&f||(t.actions[e]=g(e,t,o,a,i,c,Ae.BECKON_RUN)),f||t.actions[e]()}if(l){const e=[...l];return e[3]=!0,e}return[!0,!1,{message:"",tags:[Ce.UNFINISHED],error:!0,payload:null},!1,-1]}const S=(e={},{initiate:r=!1,ssr:n=!0,postActionEnabled:s=!1,cacheBreakEnabled:o=!1,holdPrevious:a=!1,dormant:u=!1,key:h}={})=>{const y=(0,c.useRef)(),v=(0,c.useRef)("."),g=u?".":l(e,h);let S=(0,c.useRef)(-1);-1===S.current&&(S.current=p++),u||(d.hasOwnProperty(g)?d[g][S.current]=!0:d[g]={[S.current]:!0});const m=f?(0,c.useContext)(Me)._asyncCache:Re,w=f||t?(0,c.useContext)(Me).stores:We.loaded?We.stores:ke;if(!f){const t=()=>{d[g][S.current]&&!i()(y.current,m.results[g])&&(y.current=b(g,m,r,n,e,w,!0,s,o),P((e=>e+1)))};(0,c.useMemo)((()=>{u||(m.listeners.hasOwnProperty(g)||(m.listeners[g]={}),m.listeners[g][S.current]=t)}),[g]),(0,c.useEffect)((()=>()=>{u||(delete m.listeners[g][S.current],d[g][S.current]=!1)}),[g])}const[O,P]=(0,c.useState)(0);return u?(y.current=a&&y.current&&y.current[1]?y.current:[!1,!1,{message:"",tags:[Ce.DORMANT],error:!0,payload:null},!1,-1],v.current="."):v.current!==g&&(null!==v.current&&d.hasOwnProperty(v.current)&&(delete m.listeners[v.current][S.current],d[v.current][S.current]=!1),v.current=g,y.current=b(g,m,r,n,e,w,!1,s,o,a&&y.current&&y.current[1]?y.current:void 0)),y.current},m=async(e={},{treatAsUpdate:t=!1,ignoreShortCircuit:n=!1,respectCache:s=!1,key:o,_asyncCache:a=Re,_stores:i=(We.loaded?We.stores:ke)}={})=>{const c=l(e,o);if(s){const t=v(c,a,e,i,Ae.RUN_HIT_CACHE,!0,!0,!1);if(t){if(!t[1]){const e=p++;return a.listeners.hasOwnProperty(c)||(a.listeners[c]={}),new Promise((t=>{a.listeners[c][e]=()=>{const[,r,n]=a.results[c];r&&(delete a.listeners[c][e],t(n))}}))}return t[2]}}if(!n&&void 0!==r){const t=r({args:e,stores:i});if(!1!==t)return a.results[c]=[!0,!0,t,!1,Date.now()],y(t,e,i,Ae.SHORT_CIRCUIT),xe(c),t}const[,u,f,h,d]=a.results[c]||[!1,!1,{error:!0,message:"",payload:null,tags:[Ce.UNFINISHED]},!1,-1];a.results[c]=u&&t?[!0,!0,f,!0,d]:[!0,!1,{error:!0,message:"",payload:null,tags:[Ce.UNFINISHED]},!1,-1];let b=ze(a,c);return a.actions[c]=g(c,a,e,i,b,!0,Ae.DIRECT_RUN),xe(c),a.actions[c]()},w=(e,t,r)=>{const{notify:n=!0,key:s}=r||{},o=l(e,s);(f?(0,c.useContext)(Me)._asyncCache:Re).results[o]=[!0,!0,t,!1,Date.now()],n&&xe(o)},O=(e={},t)=>{const{checkCacheBreak:r=!1,key:s}=t||{},o=l(e,s);let a=!1;const i=f?(0,c.useContext)(Me)._asyncCache:Re;if(i.results.hasOwnProperty(o)){if(r&&void 0!==n){const t=f?(0,c.useContext)(Me).stores:We.loaded?We.stores:ke;n({args:e,result:i.results[o][2],stores:t,timeCached:i.results[o][4]})&&(a=!0)}const[t,s,u,l,h]=i.results[o];return{started:t,finished:s,result:u,existed:!0,cacheBreakable:a,updating:l,timeCached:h}}return{started:!1,finished:!1,result:{message:"",tags:[Ce.UNFINISHED],error:!0,payload:null},updating:!1,existed:!1,cacheBreakable:a,timeCached:-1}};let P;return{use:(e,{initiate:t=!0,ssr:r=!0,postActionEnabled:n,cacheBreakEnabled:s,holdPrevious:o=!1,dormant:a=!1,key:i}={})=>{null==n&&(n=t),null==s&&(s=t);const c=S(e,{initiate:t,ssr:r,postActionEnabled:n,cacheBreakEnabled:s,holdPrevious:o,dormant:a,key:i}),[f,l,h,p]=c;return{isStarted:f,isFinished:l,isUpdating:p,isLoading:f&&(!l||p),endTags:h.tags,error:h.error,payload:h.payload,renderPayload:e=>h.error?u().Fragment:e(h.payload),message:h.message,raw:c,execute:t=>m(e,t)}},read:(e={},{cacheBreakEnabled:n=!0,postActionEnabled:s=!0,key:o}={})=>{const a=l(e,o),i=f?(0,c.useContext)(Me)._asyncCache:Re,u=f||t?(0,c.useContext)(Me).stores:We.loaded?We.stores:ke,h=v(a,i,e,u,Ae.READ_HIT_CACHE,s,n,!1);if(h){if(h[2].error)throw new He(h[2].message,h[2].tags);return h[2].payload}if(!i.actions.hasOwnProperty(a)){if(void 0!==r){const t=r({args:e,stores:u});if(!1!==t){if(y(t,e,u,Ae.SHORT_CIRCUIT),i.results[a]=[!0,!0,t,!1,Date.now()],t.error)throw new He(t.message,t.tags);return t.payload}}const t=ze(i,a);if(i.actions[a]=g(a,i,e,u,t,s,Ae.READ_RUN),f)throw new Error("Pullstate Async Action: action.read() : Resolve all async state for Suspense actions before Server-side render ( make use of instance.runAsyncAction() )");throw i.actions[a]()}if(f)throw new Error("Pullstate Async Action: action.read() : Resolve all async state for Suspense actions before Server-side render ( make use of instance.runAsyncAction() )");const d=p++;throw new Promise((e=>{i.listeners[a][d]=()=>{delete i.listeners[a][d],e()}}))},useBeckon:(e={},{ssr:t=!0,postActionEnabled:r=!0,cacheBreakEnabled:n=!0,holdPrevious:s=!1,dormant:o=!1}={})=>{const a=S(e,{initiate:!0,ssr:t,postActionEnabled:r,cacheBreakEnabled:n,holdPrevious:s,dormant:o});return[a[1],a[2],a[3]]},useWatch:S,run:m,delayedRun:(e={},{clearOldRun:t=!0,delay:r,immediateIfCached:n=!0,...s})=>{if(t&&clearTimeout(P),n){const{finished:t,cacheBreakable:r}=O(e,{checkCacheBreak:!0});if(t&&!r)return m(e,s),()=>{}}let o={cancelled:!1};return P=setTimeout((()=>{o.cancelled||m(e,s)}),r),()=>{o.cancelled=!0}},clearCache:(e={},t)=>{Ie(l(e,t))},clearAllCache:()=>{for(const e of Object.keys(Re.actionOrd))e.startsWith(`${a}-`)&&Ie(e)},clearAllUnwatchedCache:()=>{for(const e of Object.keys(d))Object.values(d[e]).some((e=>e))||(delete d[e],Ie(e,!1))},getCached:O,setCached:w,setCachedPayload:(e,t,r)=>w(e,Te(t),r),updateCached:(e,t,r)=>{const{notify:n=!0,resetTimeCached:s=!0,runPostActionHook:o=!1,key:a}=r||{},i=l(e,a),u=f?(0,c.useContext)(Me)._asyncCache:Re;if(u.results.hasOwnProperty(i)&&!u.results[i][2].error){const r=u.results[i][2].payload,a={payload:ye(r,(e=>t(e,r))),error:!1,message:u.results[i][2].message,tags:u.results[i][2].tags};o&&y(a,e,We.loaded?We.stores:ke,Ae.CACHE_UPDATE),u.results[i]=[!0,!0,a,u.results[i][3],s?Date.now():u.results[i][4]],n&&xe(i)}}}}const Me=u().createContext(null),Be=({instance:e,children:t})=>u().createElement(Me.Provider,{value:e},t);let Fe=null;const We={internalClientStores:!0,loaded:!1,stores:{}};class Ke{constructor(e){null!==Fe&&console.error("Pullstate: createPullstate() - Should not be creating the core Pullstate class more than once! In order to re-use pull state, you need to call instantiate() on your already created object."),Fe=this,We.stores=e,We.loaded=!0}instantiate({hydrateSnapshot:e,ssr:t=!1}={}){if(!t){const t=new $e(We.stores,!1);return null!=e&&t.hydrateFromSnapshot(e),t.instantiateReactions(),t}const r={};for(const n of Object.keys(We.stores))null==e?r[n]=new we(We.stores[n]._getInitialState()):e.hasOwnProperty(n)?r[n]=new we(e.allState[n]):(r[n]=new we(We.stores[n]._getInitialState()),console.warn(`Pullstate (instantiate): store [${n}] didn't hydrate any state (data was non-existent on hydration object)`)),r[n]._setInternalOptions({ssr:t,reactionCreators:We.stores[n]._getReactionCreators()});return new $e(r,!0)}useStores(){return qe()}useInstance(){return Je()}actionSetup(){const e={},t=new Set;for(const r of Object.keys(We.stores))e[r]=e=>{t.add(r),We.stores[r].batch(e)};return{action:e=>e,act:r=>{t.clear(),r(e);for(const e of t)We.stores[e].flushBatch(!0)}}}createAsyncActionDirect(e,t={}){return Le(e,t)}createAsyncAction(e,t={}){return Ne(e,t)}}class $e{constructor(e,t){this._ssr=!1,this._stores={},this._asyncCache={listeners:{},results:{},actions:{},actionOrd:{}},this._stores=e,this._ssr=t}getAllUnresolvedAsyncActions(){return Object.keys(this._asyncCache.actions).map((e=>this._asyncCache.actions[e]()))}instantiateReactions(){for(const e of Object.keys(this._stores))this._stores[e]._instantiateReactions()}getPullstateSnapshot(){const e={};for(const t of Object.keys(this._stores))e[t]=this._stores[t].getRawState();return{allState:e,asyncResults:this._asyncCache.results,asyncActionOrd:this._asyncCache.actionOrd}}async resolveAsyncState(){const e=this.getAllUnresolvedAsyncActions();await Promise.all(e)}hasAsyncStateToResolve(){return Object.keys(this._asyncCache.actions).length>0}get stores(){return this._stores}async runAsyncAction(e,t={},r={}){return this._ssr&&(r._asyncCache=this._asyncCache,r._stores=this._stores),await e.run(t,r)}hydrateFromSnapshot(e){for(const t of Object.keys(this._stores))e.allState.hasOwnProperty(t)?this._stores[t]._updateState(e.allState[t]):console.warn(`${t} didn't hydrate any state (data was non-existent on hydration object)`);Re.results=e.asyncResults||{},Re.actionOrd=e.asyncActionOrd||{}}}function Ve(e={}){return new Ke(e)}function qe(){return(0,c.useContext)(Me).stores}function Je(){return(0,c.useContext)(Me)}var Ge;function Qe(e){if(e.type===Ge.BECKON){const t=e.action.useBeckon(e.args,e.options);return e.children(t)}const t=e.action.useWatch(e.args,e.options);return e.children(t)}function Xe({store:e,paths:t,children:r}){return r(me(e,t))}!function(e){e.WATCH="watch",e.BECKON="beckon"}(Ge||(Ge={}))}}]);