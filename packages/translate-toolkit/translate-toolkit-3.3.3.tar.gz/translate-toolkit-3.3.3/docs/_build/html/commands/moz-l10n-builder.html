
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>moz-l10n-builder &#8212; Translate Toolkit 3.3.3 documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/bootstrap.js"></script>
    <script src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Mozilla L10n Scripts" href="mozilla_l10n_scripts.html" />
    <link rel="prev" title="tmserver" href="tmserver.html" /> 
  </head><body>
  <div id="navbar" class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container-fluid">
        <a class="brand" href="../index.html">Translate Toolkit</a>
        <span class="navbar-text pull-left"><b>3.3.3</b></span>
          <ul class="nav">
            <li class="divider-vertical"></li>
            
              <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Converters</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#tools">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#scripts">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/index.html">Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../formats/index.html">Supported formats</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developers/styleguide.html">Translate Styleguide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/styleguide.html#documentation">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/building.html">Building</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/testing.html#command-line-functional-testing">Command Line Functional Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/developers.html">Translate Toolkit Developers Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/releasing.html">Making a Translate Toolkit Release</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/deprecation.html">Deprecation of Features</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../releases/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../history.html">History of the Translate Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API</a></li>
</ul>
</ul>
</li>
              
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">moz-l10n-builder</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#latest-version">Latest Version</a></li>
<li><a class="reference internal" href="#usage">Usage</a></li>
<li><a class="reference internal" href="#operation">Operation</a></li>
<li><a class="reference internal" href="#bugs">Bugs</a></li>
</ul>
</li>
</ul>
</ul>
</li>
            
            
              
  <li><a href="tmserver.html"
         title="previous chapter">&laquo; tmserver</a></li>
  <li><a href="mozilla_l10n_scripts.html"
         title="next chapter">Mozilla L10n Scripts &raquo;</a></li>
            
          </ul>
          <ul class="nav pull-right">
            
              
  <li><a href="../_sources/commands/moz-l10n-builder.rst.txt"
	  rel="nofollow"><i class="icon-file"></i> Source</a></li>
            
          
            
<form class="navbar-search pull-right" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
          </ul>
        </div>
      </div>
    </div>
  </div>

<div class="container content">
   
  <div class="section" id="moz-l10n-builder">
<span id="id1"></span><h1>moz-l10n-builder<a class="headerlink" href="#moz-l10n-builder" title="Permalink to this headline">¶</a></h1>
<p>Take a set of Mozilla (Firefox, Thunderbird, SeaMonkey, etc.) localisation and
migrate them to the latest Mozilla source, building XPIs and repackaging hte
Windows .exe file as needed.</p>
<p>Please also check the page on <a class="reference external" href="https://developer.mozilla.org/en/docs/Creating_a_Language_Pack">creating a language pack</a> on the
Mozilla wiki, to stay abreast of the latest Mozilla way of doing things.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This page is only applicable to Mozilla products with its source
hosted in CVS. This includes Firefox versions before 3.1 and Thunderbird
versions before 3.0.</p>
<p>For information about working with the new source trees in Mercurial, see the <a class="reference internal" href="mozilla_l10n_scripts.html"><span class="doc">Mozilla L10n Scripts</span></a> page.</p>
</div>
<div class="section" id="prerequisites">
<span id="moz-l10n-builder-prerequisites"></span><h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Translation update component and building XPIs</p>
<ul>
<li><p><a class="reference internal" href="../installation.html"><span class="doc">Translate Toolkit</span></a></p></li>
<li><p>Existing Mozilla translations in PO format</p></li>
<li><p>A checkout of <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Developer_Guide/Source_Code/CVS">Mozilla sources</a>
updated to the correct <a class="reference external" href="https://developer.mozilla.org/en/docs/CVS_Tags">BRANCH or RELEASE</a></p></li>
</ul>
</li>
<li><p>Building Windows executables</p>
<ul>
<li><p>Firefox or Thunderbird <a class="reference external" href="http://releases.mozilla.org/pub/mozilla.org/firefox/releases/">en-US .exe</a> file e.g.
<a class="reference external" href="http://releases.mozilla.org/pub/mozilla.org/firefox/releases/2.0/win32/en-US/Firefox%20Setup%202.0.exe">Firefox 2.0 en-US</a></p></li>
<li><p><a class="reference external" href="http://upx.sourceforge.net/">upx</a> for executable compression</p></li>
<li><p><a class="reference external" href="http://nsis.sourceforge.net/Main_Page">Nullsoft installer</a> to package
the installer.</p></li>
<li><p><a class="reference external" href="http://www.7-zip.org/">7zip</a> for various compression</p></li>
<li><p>Linux: <a class="reference external" href="http://www.winehq.org/">WINE</a> to run the Nullsoft installer</p></li>
</ul>
</li>
<li><p>Directory structure under the directory you want to run moz-l10n-builder in:</p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>l10n/</p></td>
<td><p>Contains Mozilla l10n files for available/needed language(s)</p></td>
</tr>
<tr class="row-even"><td><p>mozilla/</p></td>
<td><p>The Mozilla source tree</p></td>
</tr>
<tr class="row-odd"><td><p>po/</p></td>
<td><p>Contains your PO files (output from moz2po)</p></td>
</tr>
<tr class="row-even"><td><p>potpacks/</p></td>
<td><p>Where POT-archives go</p></td>
</tr>
</tbody>
</table>
<p>Note these instructions are for building on Linux, they may work on Windows.
All software should be available through your distribution.  You will need to
use Wine to install the Nullsoft installer and may need to sort out some path
issues to get it to run correctly.</p>
</div>
<div class="section" id="latest-version">
<span id="moz-l10n-builder-latest-version"></span><h2>Latest Version<a class="headerlink" href="#latest-version" title="Permalink to this headline">¶</a></h2>
<p>moz-l10n-builer is not currently distributed as part of the toolkit.  You can
get the <a class="reference external" href="https://raw.github.com/translate/translate/master/tools/mozilla/moz-l10n-builder">latest version from Git</a>
and you will also need this <a class="reference external" href="https://raw.github.com/translate/translate/master/tools/mozilla/mozilla-l10n.patch">minor patch</a>
to the mozilla source code.</p>
</div>
<div class="section" id="usage">
<span id="moz-l10n-builder-usage"></span><h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">moz</span><span class="o">-</span><span class="n">l10n</span><span class="o">-</span><span class="n">builder</span> <span class="p">[</span><span class="n">language</span><span class="o">-</span><span class="n">code</span><span class="o">|</span><span class="n">ALL</span><span class="p">]</span>
</pre></div>
</div>
<p>Where:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 21%" />
<col style="width: 79%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>language-code</p></td>
<td><p>build only the supplied languages, or build ALL if
specified or if no option is supplied</p></td>
</tr>
</tbody>
</table>
<p>Your translations will not be modified.</p>
</div>
<div class="section" id="operation">
<span id="moz-l10n-builder-operation"></span><h2>Operation<a class="headerlink" href="#operation" title="Permalink to this headline">¶</a></h2>
<p>moz-l10n-builder does the following:</p>
<ul class="simple">
<li><p>Updates the mozilla/ directory</p></li>
<li><p>Creates POT files</p></li>
<li><p>Migrates your translations to this new POT file</p></li>
<li><p>Converts the migrated POT files to .dtd and .properties files</p></li>
<li><p>Builds XPI and .exe files</p></li>
<li><p>Performs various hacks to cater for the anomalies of file formats</p></li>
<li><p>Outputs a diff of you migrated PO files and your newly generated Mozilla
l10n/ files</p></li>
</ul>
</div>
<div class="section" id="bugs">
<span id="moz-l10n-builder-bugs"></span><h2>Bugs<a class="headerlink" href="#bugs" title="Permalink to this headline">¶</a></h2>
<p>Currently it is too Translate.org.za specific and not easily configurable
without editing.  It is also not intelligent enough to work our that you want
Firefox vs Thunderbird generation.  A lot of this functionality should be in
the Mozilla source code itself.  We hope over time that this might happen.</p>
</div>
</div>


</div>
<hr>

<footer class="footer">
  <div class="container">
    <p class="pull-right"><a href="#">Back to top ↑</a></p>
    <ul class="unstyled muted">
      <li><small>
        &copy; 2002-2021, Translate.<br/>
      </small></li>
      <li><small>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 3.5.1.
      </small></li>
    </ul>
  </div>
</footer>
  </body>
</html>