
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>txt2po &#8212; Translate Toolkit 3.3.3 documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/bootstrap.js"></script>
    <script src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="web2py2po" href="web2py2po.html" />
    <link rel="prev" title="ts2po" href="ts2po.html" /> 
  </head><body>
  <div id="navbar" class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container-fluid">
        <a class="brand" href="../index.html">Translate Toolkit</a>
        <span class="navbar-text pull-left"><b>3.3.3</b></span>
          <ul class="nav">
            <li class="divider-vertical"></li>
            
              <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Converters</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#tools">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#scripts">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/index.html">Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../formats/index.html">Supported formats</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developers/styleguide.html">Translate Styleguide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/styleguide.html#documentation">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/building.html">Building</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/testing.html#command-line-functional-testing">Command Line Functional Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/developers.html">Translate Toolkit Developers Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/releasing.html">Making a Translate Toolkit Release</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/deprecation.html">Deprecation of Features</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../releases/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../history.html">History of the Translate Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API</a></li>
</ul>
</ul>
</li>
              
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">txt2po</a><ul>
<li><a class="reference internal" href="#usage">Usage</a></li>
<li><a class="reference internal" href="#a-roundtrip-example">A roundtrip example</a><ul>
<li><a class="reference internal" href="#preparing-input-files">Preparing input files</a></li>
<li><a class="reference internal" href="#creating-the-pot-files">Creating the POT files</a></li>
<li><a class="reference internal" href="#translating">Translating</a></li>
<li><a class="reference internal" href="#creating-a-translated-text-file">Creating a translated text file</a></li>
</ul>
</li>
<li><a class="reference internal" href="#help-with-wiki-syntax">Help with Wiki syntax</a><ul>
<li><a class="reference internal" href="#dokuwiki">dokuwiki</a></li>
<li><a class="reference internal" href="#mediawiki">MediaWiki</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
            
            
              
  <li><a href="ts2po.html"
         title="previous chapter">&laquo; ts2po</a></li>
  <li><a href="web2py2po.html"
         title="next chapter">web2py2po &raquo;</a></li>
            
          </ul>
          <ul class="nav pull-right">
            
              
  <li><a href="../_sources/commands/txt2po.rst.txt"
	  rel="nofollow"><i class="icon-file"></i> Source</a></li>
            
          
            
<form class="navbar-search pull-right" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
          </ul>
        </div>
      </div>
    </div>
  </div>

<div class="container content">
   
  <div class="section" id="po2txt">
<span id="txt2po"></span><span id="id1"></span><h1>txt2po<a class="headerlink" href="#po2txt" title="Permalink to this headline">¶</a></h1>
<p>txt2po allows you to use the same principles of PO files with normal text
files.  In PO only items that change are marked fuzzy and only new items need
to be translated, unchanged items remain unchanged for the translation.</p>
<div class="section" id="usage">
<span id="txt2po-usage"></span><h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">txt2po</span> <span class="p">[</span><span class="n">options</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">foo</span><span class="o">.</span><span class="n">txt</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">foo</span><span class="o">.</span><span class="n">po</span><span class="o">&gt;</span>
<span class="n">po2txt</span> <span class="p">[</span><span class="n">options</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">t</span> <span class="o">&lt;</span><span class="n">foo</span><span class="o">.</span><span class="n">txt</span><span class="o">&gt;</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">XX</span><span class="o">.</span><span class="n">po</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">foo</span><span class="o">-</span><span class="n">XX</span><span class="o">.</span><span class="n">txt</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Where:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>foo.txt</p></td>
<td><p>is the input plain text file</p></td>
</tr>
<tr class="row-even"><td><p>foo.po</p></td>
<td><p>is an empty PO file that may be translated</p></td>
</tr>
<tr class="row-odd"><td><p>XX.po</p></td>
<td><p>is a PO file translated into the XX language</p></td>
</tr>
<tr class="row-even"><td><p>foo-XX.txt</p></td>
<td><p>is the foo.txt file translated into language XX</p></td>
</tr>
</tbody>
</table>
<p>Options (txt2po):</p>
<dl class="option-list">
<dt><kbd><span class="option">--version</span></kbd></dt>
<dd><p>show program’s version number and exit</p>
</dd>
<dt><kbd><span class="option">-h</span>, <span class="option">--help</span></kbd></dt>
<dd><p>show this help message and exit</p>
</dd>
<dt><kbd><span class="option">--manpage</span></kbd></dt>
<dd><p>output a manpage based on the help</p>
</dd>
<dt><kbd><span class="option">--progress=<var>PROGRESS</var></span></kbd></dt>
<dd><p>show progress as: <a class="reference internal" href="option_progress.html"><span class="doc">dots, none, bar, names, verbose</span></a></p>
</dd>
<dt><kbd><span class="option">--errorlevel=<var>ERRORLEVEL</var></span></kbd></dt>
<dd><p>show errorlevel as: <a class="reference internal" href="option_errorlevel.html"><span class="doc">none, message, exception,
traceback</span></a></p>
</dd>
<dt><kbd><span class="option">-i <var>INPUT</var></span>, <span class="option">--input=<var>INPUT</var></span></kbd></dt>
<dd><p>read from INPUT in *, txt formats</p>
</dd>
<dt><kbd><span class="option">-x <var>EXCLUDE</var></span>, <span class="option">--exclude=<var>EXCLUDE</var></span></kbd></dt>
<dd><p>exclude names matching EXCLUDE from input paths</p>
</dd>
<dt><kbd><span class="option">-o <var>OUTPUT</var></span>, <span class="option">--output=<var>OUTPUT</var></span></kbd></dt>
<dd><p>write to OUTPUT in po, pot formats</p>
</dd>
<dt><kbd><span class="option">-S</span>, <span class="option">--timestamp</span></kbd></dt>
<dd><p>skip conversion if the output file has newer timestamp</p>
</dd>
<dt><kbd><span class="option">-P</span>, <span class="option">--pot</span></kbd></dt>
<dd><p>output PO Templates (.pot) rather than PO files (.po)</p>
</dd>
<dt><kbd><span class="option">--encoding=<var>ENCODING</var></span></kbd></dt>
<dd><p>The encoding of the input file (default: UTF-8)</p>
</dd>
<dt><kbd><span class="option">--flavour=<var>FLAVOUR</var></span></kbd></dt>
<dd><p>The flavour of text file: plain (default), dokuwiki, mediawiki</p>
</dd>
<dt><kbd><span class="option">--no-segmentation</span></kbd></dt>
<dd><p>Don’t segment the file, treat it like a single message</p>
</dd>
<dt><kbd><span class="option">--duplicates=<var>DUPLICATESTYLE</var></span></kbd></dt>
<dd><p>what to do with duplicate strings (identical source
text): <a class="reference internal" href="option_duplicates.html"><span class="doc">merge, msgctxt</span></a>
(default: ‘msgctxt’)</p>
</dd>
</dl>
<p>Options (po2txt):</p>
<dl class="option-list">
<dt><kbd><span class="option">--version</span></kbd></dt>
<dd><p>show program’s version number and exit</p>
</dd>
<dt><kbd><span class="option">-h</span>, <span class="option">--help</span></kbd></dt>
<dd><p>show this help message and exit</p>
</dd>
<dt><kbd><span class="option">--manpage</span></kbd></dt>
<dd><p>output a manpage based on the help</p>
</dd>
<dt><kbd><span class="option">--progress=<var>PROGRESS</var></span></kbd></dt>
<dd><p>show progress as: <a class="reference internal" href="option_progress.html"><span class="doc">dots, none, bar, names, verbose</span></a></p>
</dd>
<dt><kbd><span class="option">--errorlevel=<var>ERRORLEVEL</var></span></kbd></dt>
<dd><p>show errorlevel as: <a class="reference internal" href="option_errorlevel.html"><span class="doc">none, message, exception,
traceback</span></a></p>
</dd>
<dt><kbd><span class="option">-i <var>INPUT</var></span>, <span class="option">--input=<var>INPUT</var></span></kbd></dt>
<dd><p>read from INPUT in po, pot formats</p>
</dd>
<dt><kbd><span class="option">-x <var>EXCLUDE</var></span>, <span class="option">--exclude=<var>EXCLUDE</var></span></kbd></dt>
<dd><p>exclude names matching EXCLUDE from input paths</p>
</dd>
<dt><kbd><span class="option">-o <var>OUTPUT</var></span>, <span class="option">--output=<var>OUTPUT</var></span></kbd></dt>
<dd><p>write to OUTPUT in txt format</p>
</dd>
<dt><kbd><span class="option">-t <var>TEMPLATE</var></span>, <span class="option">--template=<var>TEMPLATE</var></span></kbd></dt>
<dd><p>read from TEMPLATE in txt format</p>
</dd>
<dt><kbd><span class="option">-S</span>, <span class="option">--timestamp</span></kbd></dt>
<dd><p>skip conversion if the output file has newer timestamp</p>
</dd>
<dt><kbd><span class="option">--encoding=<var>ENCODING</var></span></kbd></dt>
<dd><p>The encoding of the template file (default: UTF-8)</p>
</dd>
<dt><kbd><span class="option">-w <var>WRAP</var></span>, <span class="option">--wrap=<var>WRAP</var></span></kbd></dt>
<dd><p>set number of columns to wrap text at</p>
</dd>
<dt><kbd><span class="option">--threshold=<var>PERCENT</var></span></kbd></dt>
<dd><p>only convert files where the translation completion is above PERCENT</p>
</dd>
<dt><kbd><span class="option">--fuzzy</span></kbd></dt>
<dd><p>use translations marked fuzzy</p>
</dd>
<dt><kbd><span class="option">--nofuzzy</span></kbd></dt>
<dd><p>don’t use translations marked fuzzy (default)</p>
</dd>
</dl>
</div>
<div class="section" id="a-roundtrip-example">
<span id="txt2po-a-roundtrip-example"></span><h2>A roundtrip example<a class="headerlink" href="#a-roundtrip-example" title="Permalink to this headline">¶</a></h2>
<div class="section" id="preparing-input-files">
<span id="txt2po-preparing-input-files"></span><h3>Preparing input files<a class="headerlink" href="#preparing-input-files" title="Permalink to this headline">¶</a></h3>
<p>With <strong>txt2po</strong> a text file is broken down into sections.  Each section is
separated by a line of whitespace.  Each section will appear as a msgid in the
PO file.  Because of this simple method of breaking up the input file it might
be necessary to alter the layout of your input file.  For instance you might
want to separate a heading from a paragraph by using whitespace.</p>
<p>For steps in a process you would want to leave a blank line between each step
so that each step can be translated independently.</p>
<p>For a list of items you might want to group them together so that a translator
could for example place them in alphabetic order for their translation.</p>
<p>Once the input file is prepared you can proceed to the next step.</p>
</div>
<div class="section" id="creating-the-pot-files">
<span id="txt2po-creating-the-pot-files"></span><h3>Creating the POT files<a class="headerlink" href="#creating-the-pot-files" title="Permalink to this headline">¶</a></h3>
<p>This is simple:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">txt2po</span> <span class="o">-</span><span class="n">P</span> <span class="n">TEXT_FILE</span> <span class="n">text_file</span><span class="o">.</span><span class="n">pot</span>
</pre></div>
</div>
<p>A translator would copy the POT file to their own PO file and then create
translations of the entries.  If you wish to create a PO file and not a POT
file then leave off the <code class="docutils literal notranslate"><span class="pre">-P</span></code> option.</p>
<p>You might want to manually edit the POT file to remove items that should not be
translated.  For instance if part of the document is a license you might want
to remove those if you do not want the license translated for legal reasons.</p>
</div>
<div class="section" id="translating">
<span id="txt2po-translating"></span><h3>Translating<a class="headerlink" href="#translating" title="Permalink to this headline">¶</a></h3>
<p>Translate as normal.  However translators should be aware that writers of the
text file may have used spaces, dashes, equals, underscores and other aids to
indicate things such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">Headings</span> <span class="ow">and</span> <span class="n">sub</span><span class="o">-</span><span class="n">headings</span>
<span class="o">*</span> <span class="n">Code</span> <span class="n">examples</span><span class="p">,</span> <span class="n">command</span> <span class="n">lines</span> <span class="n">examples</span>
<span class="o">*</span> <span class="n">Various</span> <span class="n">lists</span>
<span class="o">*</span> <span class="n">etc</span>
</pre></div>
</div>
<p>They will need to adapt these to work in their language being aware of how they
will appear once they are merged with the original text document.</p>
</div>
<div class="section" id="creating-a-translated-text-file">
<span id="txt2po-creating-a-translated-text-file"></span><h3>Creating a translated text file<a class="headerlink" href="#creating-a-translated-text-file" title="Permalink to this headline">¶</a></h3>
<p>With the translations complete you can create a translated text file like
this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">po2txt</span> <span class="o">-</span><span class="n">w</span> <span class="mi">75</span> <span class="o">-</span><span class="n">t</span> <span class="n">TEXT_FILE</span> <span class="n">translated</span><span class="o">.</span><span class="n">po</span> <span class="n">TEXT_FILE</span><span class="o">.</span><span class="n">translated</span>
</pre></div>
</div>
<p>This uses the original text file as a template and creates a new translated
text file using the translations found in the PO file.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">-w</span></code> command allows you to reflow the translated text to <code class="docutils literal notranslate"><span class="pre">N</span></code>
number of characters, otherwise the text will appear as one long line.</p>
</div>
</div>
<div class="section" id="help-with-wiki-syntax">
<span id="txt2po-help-with-wiki-syntax"></span><h2>Help with Wiki syntax<a class="headerlink" href="#help-with-wiki-syntax" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dokuwiki">
<span id="txt2po-dokuwiki"></span><h3>dokuwiki<a class="headerlink" href="#dokuwiki" title="Permalink to this headline">¶</a></h3>
<p>To retrieve the raw syntax for your dokuwiki page add ‘?do=export_raw’ to you
URL.  The following would retrieve the <a class="reference external" href="https://www.dokuwiki.org/dokuwiki">DokuWiki home page</a> in raw dokuwiki format
<a class="reference external" href="https://www.dokuwiki.org/dokuwiki?do=export_raw">https://www.dokuwiki.org/dokuwiki?do=export_raw</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>wget https://www.dokuwiki.org/dokuwiki?do=export_raw -O txt2po.txt
txt2po --flavour=dokuwiki -P txt2po.txt txt2po.pot
# edit txt2po.pot
po2txt -t txt2po.txt fr.po fr.txt
</pre></div>
</div>
<p>First we retrieve the file in raw dokuwiki format, then we create a POT file
for editing.  We created a French translation and using po2txt plus the
original file as a template we output fr.txt which is a French version of the
original txt2po.txt.  This file can now be uploaded to the wiki server.</p>
</div>
<div class="section" id="mediawiki">
<span id="txt2po-mediawiki"></span><h3>MediaWiki<a class="headerlink" href="#mediawiki" title="Permalink to this headline">¶</a></h3>
<p>To retrieve the raw media wiki syntax add ‘?action=raw’ to you wiki URL.  The
following retrieves the Translate Toolkit page from Wikipedia in raw MediaWiki
format <a class="reference external" href="http://en.wikipedia.org/wiki/Translate_Toolkit?action=raw">http://en.wikipedia.org/wiki/Translate_Toolkit?action=raw</a> or
<a class="reference external" href="http://en.wikipedia.org/w/index.php?title=Pootle&amp;action=raw">http://en.wikipedia.org/w/index.php?title=Pootle&amp;action=raw</a>.</p>
<p>To process follow the instructions above but substituting the MediaWiki
retrieval method.</p>
</div>
</div>
</div>


</div>
<hr>

<footer class="footer">
  <div class="container">
    <p class="pull-right"><a href="#">Back to top ↑</a></p>
    <ul class="unstyled muted">
      <li><small>
        &copy; 2002-2021, Translate.<br/>
      </small></li>
      <li><small>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 3.5.1.
      </small></li>
    </ul>
  </div>
</footer>
  </body>
</html>