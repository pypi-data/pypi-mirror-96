
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>moz2po &#8212; Translate Toolkit 3.3.3 documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/bootstrap.js"></script>
    <script src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="odf2xliff and xliff2odf" href="odf2xliff.html" />
    <link rel="prev" title="json2po" href="json2po.html" /> 
  </head><body>
  <div id="navbar" class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container-fluid">
        <a class="brand" href="../index.html">Translate Toolkit</a>
        <span class="navbar-text pull-left"><b>3.3.3</b></span>
          <ul class="nav">
            <li class="divider-vertical"></li>
            
              <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Converters</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#tools">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#scripts">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/index.html">Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../formats/index.html">Supported formats</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developers/styleguide.html">Translate Styleguide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/styleguide.html#documentation">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/building.html">Building</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/testing.html#command-line-functional-testing">Command Line Functional Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/developers.html">Translate Toolkit Developers Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/releasing.html">Making a Translate Toolkit Release</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/deprecation.html">Deprecation of Features</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../releases/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../history.html">History of the Translate Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API</a></li>
</ul>
</ul>
</li>
              
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">moz2po</a><ul>
<li><a class="reference internal" href="#usage">Usage</a></li>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#creating-pot-files">Creating POT files</a></li>
<li><a class="reference internal" href="#creating-po-files-from-existing-non-po-translations">Creating PO files from existing non-PO translations</a></li>
<li><a class="reference internal" href="#creating-mercurial-ready-translations">Creating Mercurial ready translations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#issues">Issues</a></li>
</ul>
</li>
</ul>
</ul>
</li>
            
            
              
  <li><a href="json2po.html"
         title="previous chapter">&laquo; json2po</a></li>
  <li><a href="odf2xliff.html"
         title="next chapter">odf2xliff and xliff2odf &raquo;</a></li>
            
          </ul>
          <ul class="nav pull-right">
            
              
  <li><a href="../_sources/commands/moz2po.rst.txt"
	  rel="nofollow"><i class="icon-file"></i> Source</a></li>
            
          
            
<form class="navbar-search pull-right" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
          </ul>
        </div>
      </div>
    </div>
  </div>

<div class="container content">
   
  <div class="section" id="po2moz">
<span id="moz2po"></span><span id="id1"></span><h1>moz2po<a class="headerlink" href="#po2moz" title="Permalink to this headline">¶</a></h1>
<p>moz2po converts Mozilla files to PO files.  It wraps converters that handle
.properties, .dtd and some strange Mozilla files.  The tool can work with files
from Mozilla’s Mercurial repository.  The tools
thus provides a complete roundtrip for Mozilla localisation using PO files and
PO editors.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This page should only be used as a reference to the command-line
options for moz2po and po2moz. For more about using the Translate Toolkit
and PO files for translating Mozilla products, please see the page on
<a class="reference internal" href="mozilla_l10n_scripts.html"><span class="doc">Mozilla L10n Scripts</span></a>.</p>
</div>
<div class="section" id="usage">
<span id="moz2po-usage"></span><h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">moz2po</span> <span class="p">[</span><span class="n">options</span><span class="p">]</span> <span class="o">&lt;</span><span class="nb">dir</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">po</span><span class="o">&gt;</span>
<span class="n">po2moz</span> <span class="p">[</span><span class="n">options</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">po</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nb">dir</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Where:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;dir&gt;</p></td>
<td><p>is a directory containing valid Mozilla files</p></td>
</tr>
<tr class="row-even"><td><p>&lt;po&gt;</p></td>
<td><p>is a directory of PO or POT files</p></td>
</tr>
</tbody>
</table>
<p>Options (moz2po):</p>
<dl class="option-list">
<dt><kbd><span class="option">--version</span></kbd></dt>
<dd><p>show program’s version number and exit</p>
</dd>
<dt><kbd><span class="option">-h</span>, <span class="option">--help</span></kbd></dt>
<dd><p>show this help message and exit</p>
</dd>
<dt><kbd><span class="option">--manpage</span></kbd></dt>
<dd><p>output a manpage based on the help</p>
</dd>
<dt><kbd><span class="option">--progress=<var>PROGRESS</var></span></kbd></dt>
<dd><p>show progress as: <a class="reference internal" href="option_progress.html"><span class="doc">dots, none, bar, names, verbose</span></a></p>
</dd>
<dt><kbd><span class="option">--errorlevel=<var>ERRORLEVEL</var></span></kbd></dt>
<dd><p>show errorlevel as: <a class="reference internal" href="option_errorlevel.html"><span class="doc">none, message, exception,
traceback</span></a></p>
</dd>
<dt><kbd><span class="option">-i <var>INPUT</var></span>, <span class="option">--input=<var>INPUT</var></span></kbd></dt>
<dd><p>read from INPUT in inc, it, *, dtd, properties formats</p>
</dd>
<dt><kbd><span class="option">-x <var>EXCLUDE</var></span>, <span class="option">--exclude=<var>EXCLUDE</var></span></kbd></dt>
<dd><p>exclude names matching EXCLUDE from input paths</p>
</dd>
<dt><kbd><span class="option">-o <var>OUTPUT</var></span>, <span class="option">--output=<var>OUTPUT</var></span></kbd></dt>
<dd><p>write to OUTPUT in it.po, it.pot, manifest, xhtml.po, xhtml.pot, ini.po, ini.pot, rdf, js, *, html.po, html.pot, inc.po, inc.pot, dtd.po, dtd.pot, properties.po, properties.pot formats</p>
</dd>
<dt><kbd><span class="option">-t <var>TEMPLATE</var></span>, <span class="option">--template=<var>TEMPLATE</var></span></kbd></dt>
<dd><p>read from TEMPLATE in it, *, properties, dtd, inc formats</p>
</dd>
<dt><kbd><span class="option">-S</span>, <span class="option">--timestamp</span></kbd></dt>
<dd><p>skip conversion if the output file has newer timestamp</p>
</dd>
<dt><kbd><span class="option">-P</span>, <span class="option">--pot</span></kbd></dt>
<dd><p>output PO Templates (.pot) rather than PO files (.po)</p>
</dd>
<dt><kbd><span class="option">--duplicates=<var>DUPLICATESTYLE</var></span></kbd></dt>
<dd><p>what to do with duplicate strings (identical source
text): <a class="reference internal" href="option_duplicates.html"><span class="doc">merge, msgctxt</span></a>
(default: ‘msgctxt’)</p>
</dd>
</dl>
<p>Options (po2moz):</p>
<dl class="option-list">
<dt><kbd><span class="option">--version</span></kbd></dt>
<dd><p>show program’s version number and exit</p>
</dd>
<dt><kbd><span class="option">-h</span>, <span class="option">--help</span></kbd></dt>
<dd><p>show this help message and exit</p>
</dd>
<dt><kbd><span class="option">--manpage</span></kbd></dt>
<dd><p>output a manpage based on the help</p>
</dd>
<dt><kbd><span class="option">--progress=<var>PROGRESS</var></span></kbd></dt>
<dd><p>show progress as: <a class="reference internal" href="option_progress.html"><span class="doc">dots, none, bar, names, verbose</span></a></p>
</dd>
<dt><kbd><span class="option">--errorlevel=<var>ERRORLEVEL</var></span></kbd></dt>
<dd><p>show errorlevel as: <a class="reference internal" href="option_errorlevel.html"><span class="doc">none, message, exception,
traceback</span></a></p>
</dd>
<dt><kbd><span class="option">-i <var>INPUT</var></span>, <span class="option">--input=<var>INPUT</var></span></kbd></dt>
<dd><p>read from INPUT in dtd.po, dtd.pot, ini.po, ini.pot, inc.po, inc.pot, manifest, it.po, it.pot, *, html.po, html.pot, js, rdf, properties.po, properties.pot, xhtml.po, xhtml.pot formats</p>
</dd>
<dt><kbd><span class="option">-x <var>EXCLUDE</var></span>, <span class="option">--exclude=<var>EXCLUDE</var></span></kbd></dt>
<dd><p>exclude names matching EXCLUDE from input paths</p>
</dd>
<dt><kbd><span class="option">-o <var>OUTPUT</var></span>, <span class="option">--output=<var>OUTPUT</var></span></kbd></dt>
<dd><p>write to OUTPUT in dtd, *, inc, it, properties formats</p>
</dd>
<dt><kbd><span class="option">-t <var>TEMPLATE</var></span>, <span class="option">--template=<var>TEMPLATE</var></span></kbd></dt>
<dd><p>read from TEMPLATE in dtd, *, inc, it, properties formats</p>
</dd>
<dt><kbd><span class="option">-S</span>, <span class="option">--timestamp</span></kbd></dt>
<dd><p>skip conversion if the output file has newer timestamp</p>
</dd>
<dt><kbd><span class="option">-l <var>LOCALE</var></span>, <span class="option">--locale=<var>LOCALE</var></span></kbd></dt>
<dd><p>set output locale (required as this sets the directory names)</p>
</dd>
<dt><kbd><span class="option">--removeuntranslated</span></kbd></dt>
<dd><p>remove untranslated strings from output</p>
</dd>
<dt><kbd><span class="option">--threshold=<var>PERCENT</var></span></kbd></dt>
<dd><p>only convert files where the translation completion is above PERCENT</p>
</dd>
<dt><kbd><span class="option">--fuzzy</span></kbd></dt>
<dd><p>use translations marked fuzzy</p>
</dd>
<dt><kbd><span class="option">--nofuzzy</span></kbd></dt>
<dd><p>don’t use translations marked fuzzy (default)</p>
</dd>
</dl>
</div>
<div class="section" id="examples">
<span id="moz2po-examples"></span><h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="creating-pot-files">
<span id="moz2po-creating-pot-files"></span><h3>Creating POT files<a class="headerlink" href="#creating-pot-files" title="Permalink to this headline">¶</a></h3>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../guides/creating_mozilla_pot_files.html"><span class="doc">Creating Mozilla POT files</span></a>.</p>
</div>
<p>After extracting the en-US l10n files, you can run the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">moz2po</span> <span class="o">-</span><span class="n">P</span> <span class="n">l10n</span><span class="o">/</span><span class="n">en</span><span class="o">-</span><span class="n">US</span> <span class="n">pot</span>
</pre></div>
</div>
<p>This creates a set of POT (<code class="docutils literal notranslate"><span class="pre">-P</span></code>) files in the <code class="docutils literal notranslate"><span class="pre">pot</span></code> directory from the
Mozilla files in <code class="docutils literal notranslate"><span class="pre">l10n/en-US</span></code> for use as PO Templates.</p>
<p>If you want to create a set of POT files with another base language try the
following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">moz2po</span> <span class="o">-</span><span class="n">P</span> <span class="n">l10n</span><span class="o">/</span><span class="n">fr</span><span class="o">-</span><span class="n">FR</span> <span class="n">fr</span><span class="o">-</span><span class="n">pot</span>
</pre></div>
</div>
<p>This will create a set of POT files in <code class="docutils literal notranslate"><span class="pre">fr-pot</span></code> that have French as your
source language.</p>
</div>
<div class="section" id="creating-po-files-from-existing-non-po-translations">
<span id="moz2po-creating-po-files-from-existing-non-po-translations"></span><h3>Creating PO files from existing non-PO translations<a class="headerlink" href="#creating-po-files-from-existing-non-po-translations" title="Permalink to this headline">¶</a></h3>
<p>If you have existing translations (Mozilla related or other Babelzilla files)
and you wish to convert them to PO for future translation then the following
generic instructions will work:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">moz2po</span> <span class="o">-</span><span class="n">t</span> <span class="n">en</span><span class="o">-</span><span class="n">US</span> <span class="n">af</span><span class="o">-</span><span class="n">ZA</span> <span class="n">af</span><span class="o">-</span><span class="n">ZA_pofiles</span>
</pre></div>
</div>
<p>This will combine the untranslated template en-US files from <code class="docutils literal notranslate"><span class="pre">en-US</span></code> combine
them with your existing translations in <code class="docutils literal notranslate"><span class="pre">af-ZA</span></code> and output PO files to
<code class="docutils literal notranslate"><span class="pre">af-ZA_pofiles</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">moz2po</span> <span class="o">-</span><span class="n">t</span> <span class="n">l10n</span><span class="o">/</span><span class="n">fr</span> <span class="n">l10n</span><span class="o">/</span><span class="n">xh</span> <span class="n">po</span><span class="o">/</span><span class="n">xh</span>
</pre></div>
</div>
<p>For those who are not English fluent you can do the same with another
languages.  In this case <code class="docutils literal notranslate"><span class="pre">msgid</span></code> will contain the French text from
<code class="docutils literal notranslate"><span class="pre">l10n/fr</span></code>.  This is useful for translating where the translators other
languages is not English but French, Spanish or Portuguese.  Please make sure
that the source languages i.e. the <code class="docutils literal notranslate"><span class="pre">msgid</span></code> language is fully translated as
against en-US.</p>
</div>
<div class="section" id="creating-mercurial-ready-translations">
<span id="moz2po-creating-mercurial-ready-translations"></span><h3>Creating Mercurial ready translations<a class="headerlink" href="#creating-mercurial-ready-translations" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">po2moz</span> <span class="o">-</span><span class="n">t</span> <span class="n">l10n</span><span class="o">/</span><span class="n">en</span><span class="o">-</span><span class="n">US</span> <span class="n">po</span><span class="o">/</span><span class="n">xh</span> <span class="n">l10n</span><span class="o">/</span><span class="n">xh</span>
</pre></div>
</div>
<p>Create Mozilla files using the templates files in <code class="docutils literal notranslate"><span class="pre">l10n/en-US</span></code> (see above for
how to create them) with PO translations in <code class="docutils literal notranslate"><span class="pre">po/xh</span></code> and output them to
<code class="docutils literal notranslate"><span class="pre">l10n/xh</span></code>.  The files now in <code class="docutils literal notranslate"><span class="pre">l10n/xh</span></code> are ready for submission to Mozilla
and can be used to build a language pack or translated version of Mozilla.</p>
</div>
</div>
<div class="section" id="issues">
<span id="moz2po-issues"></span><h2>Issues<a class="headerlink" href="#issues" title="Permalink to this headline">¶</a></h2>
<p>You can perform the bulk of your work (99%) with moz2po.</p>
<p>Localisation of XHTML is not yet perfect, you might want to work with the files
directly.</p>
<p><a class="reference external" href="https://github.com/translate/translate/issues/203">Issue 203</a> tracks the outstanding features which would allow
complete localisation of Mozilla including; all help, start pages, rdf files,
etc. It also tracks some bugs.</p>
<p>Accesskeys don’t yet work in .properties files and in several cases where the
Mozilla .dtd files don’t follow the normal conventions, for example in
<code class="docutils literal notranslate"><span class="pre">security/manager/chrome/pippki/pref-ssl.dtd.po</span></code>. You might also want to
check the files mentioned in this Mozilla bug <a class="reference external" href="https://bugzilla.mozilla.org/show_bug.cgi?id=329444">329444</a> where mistakes in the
DTD-definitions cause problems in the matching of accelerators with the text.</p>
<p>You might want to give special attention to the following files since it
contains customisations that are not really translations.</p>
<ul class="simple">
<li><p>mail/chrome/messenger/downloadheaders.dtd.po</p></li>
<li><p>toolkit/chrome/global/intl.properties.po</p></li>
</ul>
<p>Also, all width, height and size specifications need to be edited with feedback
from testing the translated interfaces.</p>
<p>There are some constructed strings in the Mozilla code which we can’t do much
about. Take good care to read the localisation notes. For an example, see
<code class="docutils literal notranslate"><span class="pre">mail/chrome/messenger/downloadheaders.dtd.po</span></code>. In that specific file, the
localisation note from the DTD file is lost, so take good care of those.</p>
<p>The file extension of the original Mozilla file is required to tell the Toolkit
how to do the conversion.  Therefore, a file like foo.dtd must be named
foo.dtd.po in order to <a class="reference internal" href="#"><span class="doc">po2moz</span></a> to recognise it as a DTD file.</p>
</div>
</div>


</div>
<hr>

<footer class="footer">
  <div class="container">
    <p class="pull-right"><a href="#">Back to top ↑</a></p>
    <ul class="unstyled muted">
      <li><small>
        &copy; 2002-2021, Translate.<br/>
      </small></li>
      <li><small>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 3.5.1.
      </small></li>
    </ul>
  </div>
</footer>
  </body>
</html>